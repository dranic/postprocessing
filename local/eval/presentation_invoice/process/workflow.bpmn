<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="eval" name="SantanderModel" isExecutable="true">
    <startEvent id="eval_1.start" name="Start">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
      </extensionElements>
    </startEvent>
    <sequenceFlow id="eval_2.link" sourceRef="eval_1.start" targetRef="eval_2.SNend"></sequenceFlow>
    <userTask id="eval_2.SNend" name="Set NULL experimentId (if not defined)" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineVariables"></activiti:formProperty>
        <activiti:formProperty id="variables" expression="experimentId"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_4.link" sourceRef="eval_2.SNend" targetRef="eval_4.PEI"></sequenceFlow>
    <exclusiveGateway id="eval_4.PEI" name="Present Experiment Id"></exclusiveGateway>
    <sequenceFlow id="eval_6.link" sourceRef="eval_4.PEI" targetRef="eval_6.Sep">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${experimentId != null}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="eval_6.Sep" name="Save experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/config/parameters.json"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_8.link" sourceRef="eval_6.Sep" targetRef="eval_8.FE"></sequenceFlow>
    <userTask id="eval_8.FE" name="(PE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
        <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
        <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/features/"></activiti:formProperty>
        <activiti:formProperty id="languageModelFolder" expression="${workingFolder}work/pre-eval/${hpoId}/languageModel/"></activiti:formProperty>
        <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;8&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx8G&quot;}"></activiti:formProperty>
        <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/config/"></activiti:formProperty>
        <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/per-tag/${hpoId}/all-files.txt"></activiti:formProperty>
        <activiti:formProperty id="answers" expression="${answers}"></activiti:formProperty>
        <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
        <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
        <activiti:formProperty id="multiDicPath" expression="${workingFolder}input/dictionaries/"></activiti:formProperty>
        <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_10.link" sourceRef="eval_8.FE" targetRef="eval_10.RS"></sequenceFlow>
    <userTask id="eval_10.RS" name="Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
        <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split//per-tag/${hpoId}/"></activiti:formProperty>
        <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/features/"></activiti:formProperty>
        <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
        <activiti:formProperty id="targeFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/split/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_12.link" sourceRef="eval_10.RS" targetRef="eval_12.SF"></sequenceFlow>
    <userTask id="eval_12.SF" name="Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
        <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
        <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_14.link" sourceRef="eval_12.SF" targetRef="eval_14.PF"></sequenceFlow>
    <subProcess id="eval_14.PF" name="Per Fold">
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
      <startEvent id="eval_14.PF_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_14.PF_2.link" sourceRef="eval_14.PF_1.start" targetRef="eval_14.PF_2.AF"></sequenceFlow>
      <userTask id="eval_14.PF_2.AF" name="(PE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/split/fold${foldNum}/trainSet.txt"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_14.PF_4.link" sourceRef="eval_14.PF_2.AF" targetRef="eval_14.PF_4.T"></sequenceFlow>
      <userTask id="eval_14.PF_4.T" name="(PE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="isEvalMode" expression="true"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;8&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx8G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_14.PF_6.link" sourceRef="eval_14.PF_4.T" targetRef="eval_14.PF_6.C"></sequenceFlow>
      <userTask id="eval_14.PF_6.C" name="(PE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="detailedResults" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/folds/fold${foldNum}/detailed/"></activiti:formProperty>
          <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="classifyDetailedResults" expression="${experimentId}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/split/fold${foldNum}/testSet.txt"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_14.PF_8.link" sourceRef="eval_14.PF_6.C" targetRef="eval_14.PF_8.AR"></sequenceFlow>
      <userTask id="eval_14.PF_8.AR" name="Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
          <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/folds/fold${foldNum}/detailed/"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/folds/fold${foldNum}/results/statistics/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_14.PF_10.link" sourceRef="eval_14.PF_8.AR" targetRef="eval_14.PF_10.end"></sequenceFlow>
      <endEvent id="eval_14.PF_10.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_16.link" sourceRef="eval_14.PF" targetRef="eval_16.COS"></sequenceFlow>
    <userTask id="eval_16.COS" name="Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/pre-eval/${hpoId}/${experimentId}/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_18.link" sourceRef="eval_16.COS" targetRef="eval_18.end"></sequenceFlow>
    <endEvent id="eval_18.end" name="End">
      <extensionElements>
        <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
      </extensionElements>
    </endEvent>
    <sequenceFlow id="eval_20.link" sourceRef="eval_4.PEI" targetRef="eval_20.Pmi">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${experimentId == null}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="eval_20.Pmi" name="Print model info" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintModelInfoTask"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_22.link" sourceRef="eval_20.Pmi" targetRef="eval_22.Cpts"></sequenceFlow>
    <userTask id="eval_22.Cpts" name="Create per-tag training sets" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CreatePerTagTrainingSetsTask"></activiti:formProperty>
        <activiti:formProperty id="subModels" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        <activiti:formProperty id="trainingSetDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="minDocs" expression="10"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_24.link" sourceRef="eval_22.Cpts" targetRef="eval_24.Ccf"></sequenceFlow>
    <userTask id="eval_24.Ccf" name="Copy corrections files" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyCorrectionsTask"></activiti:formProperty>
        <activiti:formProperty id="inputPath" expression="${workingFolder}input/corrections/"></activiti:formProperty>
        <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/resources/corrections/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_26.link" sourceRef="eval_24.Ccf" targetRef="eval_26.Gt"></sequenceFlow>
    <userTask id="eval_26.Gt" name="Generate tokenizers" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.ie.tokenizer.GenerateTokenizersTask"></activiti:formProperty>
        <activiti:formProperty id="tokenizerOutputDir" expression="${workingFolder}work/tokenizers/"></activiti:formProperty>
        <activiti:formProperty id="trainingSetDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="goldLabelsJson" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_28.link" sourceRef="eval_26.Gt" targetRef="eval_28.SF_1.split"></sequenceFlow>
    <parallelGateway id="eval_28.SF_1.split" name="Split"></parallelGateway>
    <sequenceFlow id="eval_28.SF_2.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_2.Sc"></sequenceFlow>
    <subProcess id="eval_28.SF_2.Sc" name="SubModel contrapartida">
      <startEvent id="eval_28.SF_2.Sc_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_2.Sc_2.link" sourceRef="eval_28.SF_2.Sc_1.start" targetRef="eval_28.SF_2.Sc_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="contrapartida"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_4.link" sourceRef="eval_28.SF_2.Sc_2.Cts" targetRef="eval_28.SF_2.Sc_4.cCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_4.cCS" name="contrapartida: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/contrapartida"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/contrapartida/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_6.link" sourceRef="eval_28.SF_2.Sc_4.cCS" targetRef="eval_28.SF_2.Sc_6.cCS"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_6.cCS" name="contrapartida: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/contrapartida"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/contrapartida/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_8.link" sourceRef="eval_28.SF_2.Sc_6.cCS" targetRef="eval_28.SF_2.Sc_8.cRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_8.cRhpo" name="contrapartida: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/contrapartida/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/contrapartida/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;contrapartida&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;contrapartida\&quot;,\&quot;answerType\&quot;:\&quot;FREE_TEXT\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="contrapartida"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_10.link" sourceRef="eval_28.SF_2.Sc_8.cRhpo" targetRef="eval_28.SF_2.Sc_10.cSbep"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_10.cSbep" name="contrapartida: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_12.link" sourceRef="eval_28.SF_2.Sc_10.cSbep" targetRef="eval_28.SF_2.Sc_12.cSbep"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_12.cSbep" name="contrapartida: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/contrapartida/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_14.link" sourceRef="eval_28.SF_2.Sc_12.cSbep" targetRef="eval_28.SF_2.Sc_14.cCrto"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_14.cCrto" name="contrapartida: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_16.link" sourceRef="eval_28.SF_2.Sc_14.cCrto" targetRef="eval_28.SF_2.Sc_16.cFE"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_16.cFE" name="contrapartida: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/contrapartida/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;contrapartida&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_18.link" sourceRef="eval_28.SF_2.Sc_16.cFE" targetRef="eval_28.SF_2.Sc_18.cRS"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_18.cRS" name="contrapartida: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/contrapartida/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_20.link" sourceRef="eval_28.SF_2.Sc_18.cRS" targetRef="eval_28.SF_2.Sc_20.cSF"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_20.cSF" name="contrapartida: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.link" sourceRef="eval_28.SF_2.Sc_20.cSF" targetRef="eval_28.SF_2.Sc_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_2.Sc_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_2.link" sourceRef="eval_28.SF_2.Sc_22.FTE_1.split" targetRef="eval_28.SF_2.Sc_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_2.Sc_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_2.Sc_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_2.cAF"></sequenceFlow>
        <userTask id="eval_28.SF_2.Sc_22.FTE_2.FEPF_2.cAF" name="contrapartida:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_2.cAF" targetRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_4.cT"></sequenceFlow>
        <userTask id="eval_28.SF_2.Sc_22.FTE_2.FEPF_4.cT" name="contrapartida: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_4.cT" targetRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_6.cC"></sequenceFlow>
        <userTask id="eval_28.SF_2.Sc_22.FTE_2.FEPF_6.cC" name="contrapartida(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_6.cC" targetRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_8.cAR"></sequenceFlow>
        <userTask id="eval_28.SF_2.Sc_22.FTE_2.FEPF_8.cAR" name="contrapartida: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="contrapartida"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_8.cAR" targetRef="eval_28.SF_2.Sc_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_2.Sc_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_4.link" sourceRef="eval_28.SF_2.Sc_22.FTE_2.FEPF" targetRef="eval_28.SF_2.Sc_22.FTE_4.cCOS"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_4.cCOS" name="contrapartida: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_6.link" sourceRef="eval_28.SF_2.Sc_22.FTE_4.cCOS" targetRef="eval_28.SF_2.Sc_22.FTE_6.cSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_6.cSSTT" name="contrapartida: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_8.link" sourceRef="eval_28.SF_2.Sc_22.FTE_6.cSSTT" targetRef="eval_28.SF_2.Sc_22.FTE_8.cAACF"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_8.cAACF" name="contrapartida: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_10.link" sourceRef="eval_28.SF_2.Sc_22.FTE_8.cAACF" targetRef="eval_28.SF_2.Sc_22.FTE_10.cT"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_10.cT" name="contrapartida: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_12.link" sourceRef="eval_28.SF_2.Sc_22.FTE_10.cT" targetRef="eval_28.SF_2.Sc_22.FTE_12.c"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_12.c" name="contrapartida:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_14.link" sourceRef="eval_28.SF_2.Sc_22.FTE_12.c" targetRef="eval_28.SF_2.Sc_22.FTE_14.cPC"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_14.cPC" name="contrapartida:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_16.link" sourceRef="eval_28.SF_2.Sc_22.FTE_14.cPC" targetRef="eval_28.SF_2.Sc_22.FTE_16.cPmi"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_22.FTE_16.cPmi" name="contrapartida: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_22.FTE_18.link" sourceRef="eval_28.SF_2.Sc_22.FTE_16.cPmi" targetRef="eval_28.SF_2.Sc_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_2.Sc_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_2.Sc_24.link" sourceRef="eval_28.SF_2.Sc_22.FTE_18.join" targetRef="eval_28.SF_2.Sc_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_2.Sc_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_2.Sc_26.link" sourceRef="eval_28.SF_2.Sc_24.Cat" targetRef="eval_28.SF_2.Sc_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_2.Sc_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_2.Sc_28.link" sourceRef="eval_28.SF_2.Sc_24.Cat" targetRef="eval_28.SF_2.Sc_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_2.Sc_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_4.link" sourceRef="eval_28.SF_2.Sc" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <parallelGateway id="eval_28.SF_4.join" name="Join"></parallelGateway>
    <sequenceFlow id="eval_28.SF_6.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_6.Sc"></sequenceFlow>
    <subProcess id="eval_28.SF_6.Sc" name="SubModel contrapartida_corta">
      <startEvent id="eval_28.SF_6.Sc_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_6.Sc_2.link" sourceRef="eval_28.SF_6.Sc_1.start" targetRef="eval_28.SF_6.Sc_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="contrapartida_corta"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_4.link" sourceRef="eval_28.SF_6.Sc_2.Cts" targetRef="eval_28.SF_6.Sc_4.cCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_4.cCS" name="contrapartida_corta: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/contrapartida_corta"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/contrapartida_corta/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_6.link" sourceRef="eval_28.SF_6.Sc_4.cCS" targetRef="eval_28.SF_6.Sc_6.cCS"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_6.cCS" name="contrapartida_corta: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/contrapartida_corta"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/contrapartida_corta/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_8.link" sourceRef="eval_28.SF_6.Sc_6.cCS" targetRef="eval_28.SF_6.Sc_8.cRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_8.cRhpo" name="contrapartida_corta: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/contrapartida_corta/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/contrapartida_corta/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;contrapartida_corta&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;contrapartida_corta\&quot;,\&quot;answerType\&quot;:\&quot;FREE_TEXT\&quot;,\&quot;required\&quot;:false,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="contrapartida_corta"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_10.link" sourceRef="eval_28.SF_6.Sc_8.cRhpo" targetRef="eval_28.SF_6.Sc_10.cSbep"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_10.cSbep" name="contrapartida_corta: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_12.link" sourceRef="eval_28.SF_6.Sc_10.cSbep" targetRef="eval_28.SF_6.Sc_12.cSbep"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_12.cSbep" name="contrapartida_corta: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/contrapartida_corta/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_14.link" sourceRef="eval_28.SF_6.Sc_12.cSbep" targetRef="eval_28.SF_6.Sc_14.cCrto"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_14.cCrto" name="contrapartida_corta: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_16.link" sourceRef="eval_28.SF_6.Sc_14.cCrto" targetRef="eval_28.SF_6.Sc_16.cFE"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_16.cFE" name="contrapartida_corta: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/contrapartida_corta/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;contrapartida_corta&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_18.link" sourceRef="eval_28.SF_6.Sc_16.cFE" targetRef="eval_28.SF_6.Sc_18.cRS"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_18.cRS" name="contrapartida_corta: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/contrapartida_corta/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_20.link" sourceRef="eval_28.SF_6.Sc_18.cRS" targetRef="eval_28.SF_6.Sc_20.cSF"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_20.cSF" name="contrapartida_corta: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.link" sourceRef="eval_28.SF_6.Sc_20.cSF" targetRef="eval_28.SF_6.Sc_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_6.Sc_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_2.link" sourceRef="eval_28.SF_6.Sc_22.FTE_1.split" targetRef="eval_28.SF_6.Sc_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_6.Sc_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_6.Sc_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_2.cAF"></sequenceFlow>
        <userTask id="eval_28.SF_6.Sc_22.FTE_2.FEPF_2.cAF" name="contrapartida_corta:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_2.cAF" targetRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_4.cT"></sequenceFlow>
        <userTask id="eval_28.SF_6.Sc_22.FTE_2.FEPF_4.cT" name="contrapartida_corta: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_4.cT" targetRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_6.cC"></sequenceFlow>
        <userTask id="eval_28.SF_6.Sc_22.FTE_2.FEPF_6.cC" name="contrapartida_corta(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_6.cC" targetRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_8.cAR"></sequenceFlow>
        <userTask id="eval_28.SF_6.Sc_22.FTE_2.FEPF_8.cAR" name="contrapartida_corta: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="contrapartida_corta"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_8.cAR" targetRef="eval_28.SF_6.Sc_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_6.Sc_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_4.link" sourceRef="eval_28.SF_6.Sc_22.FTE_2.FEPF" targetRef="eval_28.SF_6.Sc_22.FTE_4.cCOS"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_4.cCOS" name="contrapartida_corta: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_6.link" sourceRef="eval_28.SF_6.Sc_22.FTE_4.cCOS" targetRef="eval_28.SF_6.Sc_22.FTE_6.cSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_6.cSSTT" name="contrapartida_corta: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_8.link" sourceRef="eval_28.SF_6.Sc_22.FTE_6.cSSTT" targetRef="eval_28.SF_6.Sc_22.FTE_8.cAACF"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_8.cAACF" name="contrapartida_corta: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_10.link" sourceRef="eval_28.SF_6.Sc_22.FTE_8.cAACF" targetRef="eval_28.SF_6.Sc_22.FTE_10.cT"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_10.cT" name="contrapartida_corta: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_12.link" sourceRef="eval_28.SF_6.Sc_22.FTE_10.cT" targetRef="eval_28.SF_6.Sc_22.FTE_12.c"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_12.c" name="contrapartida_corta:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_14.link" sourceRef="eval_28.SF_6.Sc_22.FTE_12.c" targetRef="eval_28.SF_6.Sc_22.FTE_14.cPC"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_14.cPC" name="contrapartida_corta:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_16.link" sourceRef="eval_28.SF_6.Sc_22.FTE_14.cPC" targetRef="eval_28.SF_6.Sc_22.FTE_16.cPmi"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_22.FTE_16.cPmi" name="contrapartida_corta: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_22.FTE_18.link" sourceRef="eval_28.SF_6.Sc_22.FTE_16.cPmi" targetRef="eval_28.SF_6.Sc_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_6.Sc_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_6.Sc_24.link" sourceRef="eval_28.SF_6.Sc_22.FTE_18.join" targetRef="eval_28.SF_6.Sc_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_6.Sc_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_6.Sc_26.link" sourceRef="eval_28.SF_6.Sc_24.Cat" targetRef="eval_28.SF_6.Sc_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_6.Sc_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_6.Sc_28.link" sourceRef="eval_28.SF_6.Sc_24.Cat" targetRef="eval_28.SF_6.Sc_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_6.Sc_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_8.link" sourceRef="eval_28.SF_6.Sc" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_9.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_9.St"></sequenceFlow>
    <subProcess id="eval_28.SF_9.St" name="SubModel tipo_de_opcion">
      <startEvent id="eval_28.SF_9.St_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_9.St_2.link" sourceRef="eval_28.SF_9.St_1.start" targetRef="eval_28.SF_9.St_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="tipo_de_opcion"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_4.link" sourceRef="eval_28.SF_9.St_2.Cts" targetRef="eval_28.SF_9.St_4.tCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_9.St_4.tCS" name="tipo_de_opcion: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/tipo_de_opcion"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/tipo_de_opcion/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_6.link" sourceRef="eval_28.SF_9.St_4.tCS" targetRef="eval_28.SF_9.St_6.tCS"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_6.tCS" name="tipo_de_opcion: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/tipo_de_opcion"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/tipo_de_opcion/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_8.link" sourceRef="eval_28.SF_9.St_6.tCS" targetRef="eval_28.SF_9.St_8.tRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_8.tRhpo" name="tipo_de_opcion: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/tipo_de_opcion/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/tipo_de_opcion/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;tipo_de_opcion&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;tipo_de_opcion\&quot;,\&quot;answerType\&quot;:\&quot;FREE_TEXT\&quot;,\&quot;required\&quot;:false,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="tipo_de_opcion"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_10.link" sourceRef="eval_28.SF_9.St_8.tRhpo" targetRef="eval_28.SF_9.St_10.tSbep"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_10.tSbep" name="tipo_de_opcion: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_12.link" sourceRef="eval_28.SF_9.St_10.tSbep" targetRef="eval_28.SF_9.St_12.tSbep"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_12.tSbep" name="tipo_de_opcion: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/tipo_de_opcion/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_14.link" sourceRef="eval_28.SF_9.St_12.tSbep" targetRef="eval_28.SF_9.St_14.tCrto"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_14.tCrto" name="tipo_de_opcion: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_16.link" sourceRef="eval_28.SF_9.St_14.tCrto" targetRef="eval_28.SF_9.St_16.tFE"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_16.tFE" name="tipo_de_opcion: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/tipo_de_opcion/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;tipo_de_opcion&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_18.link" sourceRef="eval_28.SF_9.St_16.tFE" targetRef="eval_28.SF_9.St_18.tRS"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_18.tRS" name="tipo_de_opcion: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/tipo_de_opcion/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_20.link" sourceRef="eval_28.SF_9.St_18.tRS" targetRef="eval_28.SF_9.St_20.tSF"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_20.tSF" name="tipo_de_opcion: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.link" sourceRef="eval_28.SF_9.St_20.tSF" targetRef="eval_28.SF_9.St_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_9.St_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_2.link" sourceRef="eval_28.SF_9.St_22.FTE_1.split" targetRef="eval_28.SF_9.St_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_9.St_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_9.St_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_9.St_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_9.St_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_9.St_22.FTE_2.FEPF_2.tAF"></sequenceFlow>
        <userTask id="eval_28.SF_9.St_22.FTE_2.FEPF_2.tAF" name="tipo_de_opcion:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_9.St_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_9.St_22.FTE_2.FEPF_2.tAF" targetRef="eval_28.SF_9.St_22.FTE_2.FEPF_4.tT"></sequenceFlow>
        <userTask id="eval_28.SF_9.St_22.FTE_2.FEPF_4.tT" name="tipo_de_opcion: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_9.St_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_9.St_22.FTE_2.FEPF_4.tT" targetRef="eval_28.SF_9.St_22.FTE_2.FEPF_6.tC"></sequenceFlow>
        <userTask id="eval_28.SF_9.St_22.FTE_2.FEPF_6.tC" name="tipo_de_opcion(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_9.St_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_9.St_22.FTE_2.FEPF_6.tC" targetRef="eval_28.SF_9.St_22.FTE_2.FEPF_8.tAR"></sequenceFlow>
        <userTask id="eval_28.SF_9.St_22.FTE_2.FEPF_8.tAR" name="tipo_de_opcion: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="tipo_de_opcion"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_9.St_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_9.St_22.FTE_2.FEPF_8.tAR" targetRef="eval_28.SF_9.St_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_9.St_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_4.link" sourceRef="eval_28.SF_9.St_22.FTE_2.FEPF" targetRef="eval_28.SF_9.St_22.FTE_4.tCOS"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_4.tCOS" name="tipo_de_opcion: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_6.link" sourceRef="eval_28.SF_9.St_22.FTE_4.tCOS" targetRef="eval_28.SF_9.St_22.FTE_6.tSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_6.tSSTT" name="tipo_de_opcion: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_8.link" sourceRef="eval_28.SF_9.St_22.FTE_6.tSSTT" targetRef="eval_28.SF_9.St_22.FTE_8.tAACF"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_8.tAACF" name="tipo_de_opcion: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_10.link" sourceRef="eval_28.SF_9.St_22.FTE_8.tAACF" targetRef="eval_28.SF_9.St_22.FTE_10.tT"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_10.tT" name="tipo_de_opcion: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_12.link" sourceRef="eval_28.SF_9.St_22.FTE_10.tT" targetRef="eval_28.SF_9.St_22.FTE_12.t"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_12.t" name="tipo_de_opcion:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_14.link" sourceRef="eval_28.SF_9.St_22.FTE_12.t" targetRef="eval_28.SF_9.St_22.FTE_14.tPC"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_14.tPC" name="tipo_de_opcion:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_16.link" sourceRef="eval_28.SF_9.St_22.FTE_14.tPC" targetRef="eval_28.SF_9.St_22.FTE_16.tPmi"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_22.FTE_16.tPmi" name="tipo_de_opcion: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_22.FTE_18.link" sourceRef="eval_28.SF_9.St_22.FTE_16.tPmi" targetRef="eval_28.SF_9.St_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_9.St_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_9.St_24.link" sourceRef="eval_28.SF_9.St_22.FTE_18.join" targetRef="eval_28.SF_9.St_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_9.St_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_9.St_26.link" sourceRef="eval_28.SF_9.St_24.Cat" targetRef="eval_28.SF_9.St_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_9.St_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_9.St_28.link" sourceRef="eval_28.SF_9.St_24.Cat" targetRef="eval_28.SF_9.St_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_9.St_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_11.link" sourceRef="eval_28.SF_9.St" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_12.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_12.Se"></sequenceFlow>
    <subProcess id="eval_28.SF_12.Se" name="SubModel estrategia">
      <startEvent id="eval_28.SF_12.Se_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_12.Se_2.link" sourceRef="eval_28.SF_12.Se_1.start" targetRef="eval_28.SF_12.Se_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="estrategia"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_4.link" sourceRef="eval_28.SF_12.Se_2.Cts" targetRef="eval_28.SF_12.Se_4.eCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_12.Se_4.eCS" name="estrategia: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/estrategia"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/estrategia/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_6.link" sourceRef="eval_28.SF_12.Se_4.eCS" targetRef="eval_28.SF_12.Se_6.eCS"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_6.eCS" name="estrategia: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/estrategia"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/estrategia/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_8.link" sourceRef="eval_28.SF_12.Se_6.eCS" targetRef="eval_28.SF_12.Se_8.eRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_8.eRhpo" name="estrategia: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/estrategia/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/estrategia/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;estrategia&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;estrategia\&quot;,\&quot;answerType\&quot;:\&quot;FREE_TEXT\&quot;,\&quot;required\&quot;:false,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="estrategia"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_10.link" sourceRef="eval_28.SF_12.Se_8.eRhpo" targetRef="eval_28.SF_12.Se_10.eSbep"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_10.eSbep" name="estrategia: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_12.link" sourceRef="eval_28.SF_12.Se_10.eSbep" targetRef="eval_28.SF_12.Se_12.eSbep"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_12.eSbep" name="estrategia: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/estrategia/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_14.link" sourceRef="eval_28.SF_12.Se_12.eSbep" targetRef="eval_28.SF_12.Se_14.eCrto"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_14.eCrto" name="estrategia: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_16.link" sourceRef="eval_28.SF_12.Se_14.eCrto" targetRef="eval_28.SF_12.Se_16.eFE"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_16.eFE" name="estrategia: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/estrategia/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;estrategia&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_18.link" sourceRef="eval_28.SF_12.Se_16.eFE" targetRef="eval_28.SF_12.Se_18.eRS"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_18.eRS" name="estrategia: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/estrategia/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_20.link" sourceRef="eval_28.SF_12.Se_18.eRS" targetRef="eval_28.SF_12.Se_20.eSF"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_20.eSF" name="estrategia: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.link" sourceRef="eval_28.SF_12.Se_20.eSF" targetRef="eval_28.SF_12.Se_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_12.Se_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_2.link" sourceRef="eval_28.SF_12.Se_22.FTE_1.split" targetRef="eval_28.SF_12.Se_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_12.Se_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_12.Se_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_12.Se_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_12.Se_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_12.Se_22.FTE_2.FEPF_2.eAF"></sequenceFlow>
        <userTask id="eval_28.SF_12.Se_22.FTE_2.FEPF_2.eAF" name="estrategia:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_12.Se_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_12.Se_22.FTE_2.FEPF_2.eAF" targetRef="eval_28.SF_12.Se_22.FTE_2.FEPF_4.eT"></sequenceFlow>
        <userTask id="eval_28.SF_12.Se_22.FTE_2.FEPF_4.eT" name="estrategia: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_12.Se_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_12.Se_22.FTE_2.FEPF_4.eT" targetRef="eval_28.SF_12.Se_22.FTE_2.FEPF_6.eC"></sequenceFlow>
        <userTask id="eval_28.SF_12.Se_22.FTE_2.FEPF_6.eC" name="estrategia(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_12.Se_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_12.Se_22.FTE_2.FEPF_6.eC" targetRef="eval_28.SF_12.Se_22.FTE_2.FEPF_8.eAR"></sequenceFlow>
        <userTask id="eval_28.SF_12.Se_22.FTE_2.FEPF_8.eAR" name="estrategia: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="estrategia"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_12.Se_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_12.Se_22.FTE_2.FEPF_8.eAR" targetRef="eval_28.SF_12.Se_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_12.Se_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_4.link" sourceRef="eval_28.SF_12.Se_22.FTE_2.FEPF" targetRef="eval_28.SF_12.Se_22.FTE_4.eCOS"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_4.eCOS" name="estrategia: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_6.link" sourceRef="eval_28.SF_12.Se_22.FTE_4.eCOS" targetRef="eval_28.SF_12.Se_22.FTE_6.eSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_6.eSSTT" name="estrategia: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_8.link" sourceRef="eval_28.SF_12.Se_22.FTE_6.eSSTT" targetRef="eval_28.SF_12.Se_22.FTE_8.eAACF"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_8.eAACF" name="estrategia: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_10.link" sourceRef="eval_28.SF_12.Se_22.FTE_8.eAACF" targetRef="eval_28.SF_12.Se_22.FTE_10.eT"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_10.eT" name="estrategia: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_12.link" sourceRef="eval_28.SF_12.Se_22.FTE_10.eT" targetRef="eval_28.SF_12.Se_22.FTE_12.e"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_12.e" name="estrategia:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_14.link" sourceRef="eval_28.SF_12.Se_22.FTE_12.e" targetRef="eval_28.SF_12.Se_22.FTE_14.ePC"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_14.ePC" name="estrategia:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_16.link" sourceRef="eval_28.SF_12.Se_22.FTE_14.ePC" targetRef="eval_28.SF_12.Se_22.FTE_16.ePmi"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_22.FTE_16.ePmi" name="estrategia: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_22.FTE_18.link" sourceRef="eval_28.SF_12.Se_22.FTE_16.ePmi" targetRef="eval_28.SF_12.Se_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_12.Se_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_12.Se_24.link" sourceRef="eval_28.SF_12.Se_22.FTE_18.join" targetRef="eval_28.SF_12.Se_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_12.Se_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_12.Se_26.link" sourceRef="eval_28.SF_12.Se_24.Cat" targetRef="eval_28.SF_12.Se_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_12.Se_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_12.Se_28.link" sourceRef="eval_28.SF_12.Se_24.Cat" targetRef="eval_28.SF_12.Se_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_12.Se_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_14.link" sourceRef="eval_28.SF_12.Se" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_15.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_15.So"></sequenceFlow>
    <subProcess id="eval_28.SF_15.So" name="SubModel opcion1">
      <startEvent id="eval_28.SF_15.So_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_15.So_2.link" sourceRef="eval_28.SF_15.So_1.start" targetRef="eval_28.SF_15.So_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="opcion1"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_4.link" sourceRef="eval_28.SF_15.So_2.Cts" targetRef="eval_28.SF_15.So_4.oCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_15.So_4.oCS" name="opcion1: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/opcion1"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/opcion1/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_6.link" sourceRef="eval_28.SF_15.So_4.oCS" targetRef="eval_28.SF_15.So_6.oCS"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_6.oCS" name="opcion1: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/opcion1"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/opcion1/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_8.link" sourceRef="eval_28.SF_15.So_6.oCS" targetRef="eval_28.SF_15.So_8.oRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_8.oRhpo" name="opcion1: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/opcion1/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/opcion1/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;opcion1&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;opcion1\&quot;,\&quot;answerType\&quot;:\&quot;CHECK_ONE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="opcion1"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_10.link" sourceRef="eval_28.SF_15.So_8.oRhpo" targetRef="eval_28.SF_15.So_10.oSbep"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_10.oSbep" name="opcion1: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_12.link" sourceRef="eval_28.SF_15.So_10.oSbep" targetRef="eval_28.SF_15.So_12.oSbep"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_12.oSbep" name="opcion1: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/opcion1/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_14.link" sourceRef="eval_28.SF_15.So_12.oSbep" targetRef="eval_28.SF_15.So_14.oCrto"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_14.oCrto" name="opcion1: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_16.link" sourceRef="eval_28.SF_15.So_14.oCrto" targetRef="eval_28.SF_15.So_16.oFE"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_16.oFE" name="opcion1: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/opcion1/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;opcion1&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_18.link" sourceRef="eval_28.SF_15.So_16.oFE" targetRef="eval_28.SF_15.So_18.oRS"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_18.oRS" name="opcion1: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/opcion1/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_20.link" sourceRef="eval_28.SF_15.So_18.oRS" targetRef="eval_28.SF_15.So_20.oSF"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_20.oSF" name="opcion1: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.link" sourceRef="eval_28.SF_15.So_20.oSF" targetRef="eval_28.SF_15.So_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_15.So_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_2.link" sourceRef="eval_28.SF_15.So_22.FTE_1.split" targetRef="eval_28.SF_15.So_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_15.So_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_15.So_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_15.So_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_15.So_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_15.So_22.FTE_2.FEPF_2.oAF"></sequenceFlow>
        <userTask id="eval_28.SF_15.So_22.FTE_2.FEPF_2.oAF" name="opcion1:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_15.So_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_15.So_22.FTE_2.FEPF_2.oAF" targetRef="eval_28.SF_15.So_22.FTE_2.FEPF_4.oT"></sequenceFlow>
        <userTask id="eval_28.SF_15.So_22.FTE_2.FEPF_4.oT" name="opcion1: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_15.So_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_15.So_22.FTE_2.FEPF_4.oT" targetRef="eval_28.SF_15.So_22.FTE_2.FEPF_6.oC"></sequenceFlow>
        <userTask id="eval_28.SF_15.So_22.FTE_2.FEPF_6.oC" name="opcion1(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_15.So_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_15.So_22.FTE_2.FEPF_6.oC" targetRef="eval_28.SF_15.So_22.FTE_2.FEPF_8.oAR"></sequenceFlow>
        <userTask id="eval_28.SF_15.So_22.FTE_2.FEPF_8.oAR" name="opcion1: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="opcion1"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_15.So_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_15.So_22.FTE_2.FEPF_8.oAR" targetRef="eval_28.SF_15.So_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_15.So_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_4.link" sourceRef="eval_28.SF_15.So_22.FTE_2.FEPF" targetRef="eval_28.SF_15.So_22.FTE_4.oCOS"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_4.oCOS" name="opcion1: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_6.link" sourceRef="eval_28.SF_15.So_22.FTE_4.oCOS" targetRef="eval_28.SF_15.So_22.FTE_6.oSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_6.oSSTT" name="opcion1: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_8.link" sourceRef="eval_28.SF_15.So_22.FTE_6.oSSTT" targetRef="eval_28.SF_15.So_22.FTE_8.oAACF"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_8.oAACF" name="opcion1: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_10.link" sourceRef="eval_28.SF_15.So_22.FTE_8.oAACF" targetRef="eval_28.SF_15.So_22.FTE_10.oT"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_10.oT" name="opcion1: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_12.link" sourceRef="eval_28.SF_15.So_22.FTE_10.oT" targetRef="eval_28.SF_15.So_22.FTE_12.o"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_12.o" name="opcion1:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_14.link" sourceRef="eval_28.SF_15.So_22.FTE_12.o" targetRef="eval_28.SF_15.So_22.FTE_14.oPC"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_14.oPC" name="opcion1:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_16.link" sourceRef="eval_28.SF_15.So_22.FTE_14.oPC" targetRef="eval_28.SF_15.So_22.FTE_16.oPmi"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_22.FTE_16.oPmi" name="opcion1: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_22.FTE_18.link" sourceRef="eval_28.SF_15.So_22.FTE_16.oPmi" targetRef="eval_28.SF_15.So_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_15.So_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_15.So_24.link" sourceRef="eval_28.SF_15.So_22.FTE_18.join" targetRef="eval_28.SF_15.So_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_15.So_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_15.So_26.link" sourceRef="eval_28.SF_15.So_24.Cat" targetRef="eval_28.SF_15.So_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_15.So_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_15.So_28.link" sourceRef="eval_28.SF_15.So_24.Cat" targetRef="eval_28.SF_15.So_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_15.So_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_17.link" sourceRef="eval_28.SF_15.So" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_18.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_18.So"></sequenceFlow>
    <subProcess id="eval_28.SF_18.So" name="SubModel opcion2">
      <startEvent id="eval_28.SF_18.So_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_18.So_2.link" sourceRef="eval_28.SF_18.So_1.start" targetRef="eval_28.SF_18.So_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="opcion2"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_4.link" sourceRef="eval_28.SF_18.So_2.Cts" targetRef="eval_28.SF_18.So_4.oCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_18.So_4.oCS" name="opcion2: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/opcion2"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/opcion2/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_6.link" sourceRef="eval_28.SF_18.So_4.oCS" targetRef="eval_28.SF_18.So_6.oCS"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_6.oCS" name="opcion2: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/opcion2"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/opcion2/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_8.link" sourceRef="eval_28.SF_18.So_6.oCS" targetRef="eval_28.SF_18.So_8.oRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_8.oRhpo" name="opcion2: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/opcion2/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/opcion2/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;opcion2&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;opcion2\&quot;,\&quot;answerType\&quot;:\&quot;CHECK_ONE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="opcion2"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_10.link" sourceRef="eval_28.SF_18.So_8.oRhpo" targetRef="eval_28.SF_18.So_10.oSbep"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_10.oSbep" name="opcion2: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_12.link" sourceRef="eval_28.SF_18.So_10.oSbep" targetRef="eval_28.SF_18.So_12.oSbep"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_12.oSbep" name="opcion2: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/opcion2/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_14.link" sourceRef="eval_28.SF_18.So_12.oSbep" targetRef="eval_28.SF_18.So_14.oCrto"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_14.oCrto" name="opcion2: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_16.link" sourceRef="eval_28.SF_18.So_14.oCrto" targetRef="eval_28.SF_18.So_16.oFE"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_16.oFE" name="opcion2: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/opcion2/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;opcion2&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_18.link" sourceRef="eval_28.SF_18.So_16.oFE" targetRef="eval_28.SF_18.So_18.oRS"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_18.oRS" name="opcion2: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/opcion2/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_20.link" sourceRef="eval_28.SF_18.So_18.oRS" targetRef="eval_28.SF_18.So_20.oSF"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_20.oSF" name="opcion2: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.link" sourceRef="eval_28.SF_18.So_20.oSF" targetRef="eval_28.SF_18.So_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_18.So_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_2.link" sourceRef="eval_28.SF_18.So_22.FTE_1.split" targetRef="eval_28.SF_18.So_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_18.So_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_18.So_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_18.So_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_18.So_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_18.So_22.FTE_2.FEPF_2.oAF"></sequenceFlow>
        <userTask id="eval_28.SF_18.So_22.FTE_2.FEPF_2.oAF" name="opcion2:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_18.So_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_18.So_22.FTE_2.FEPF_2.oAF" targetRef="eval_28.SF_18.So_22.FTE_2.FEPF_4.oT"></sequenceFlow>
        <userTask id="eval_28.SF_18.So_22.FTE_2.FEPF_4.oT" name="opcion2: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_18.So_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_18.So_22.FTE_2.FEPF_4.oT" targetRef="eval_28.SF_18.So_22.FTE_2.FEPF_6.oC"></sequenceFlow>
        <userTask id="eval_28.SF_18.So_22.FTE_2.FEPF_6.oC" name="opcion2(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_18.So_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_18.So_22.FTE_2.FEPF_6.oC" targetRef="eval_28.SF_18.So_22.FTE_2.FEPF_8.oAR"></sequenceFlow>
        <userTask id="eval_28.SF_18.So_22.FTE_2.FEPF_8.oAR" name="opcion2: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="opcion2"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_18.So_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_18.So_22.FTE_2.FEPF_8.oAR" targetRef="eval_28.SF_18.So_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_18.So_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_4.link" sourceRef="eval_28.SF_18.So_22.FTE_2.FEPF" targetRef="eval_28.SF_18.So_22.FTE_4.oCOS"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_4.oCOS" name="opcion2: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_6.link" sourceRef="eval_28.SF_18.So_22.FTE_4.oCOS" targetRef="eval_28.SF_18.So_22.FTE_6.oSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_6.oSSTT" name="opcion2: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_8.link" sourceRef="eval_28.SF_18.So_22.FTE_6.oSSTT" targetRef="eval_28.SF_18.So_22.FTE_8.oAACF"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_8.oAACF" name="opcion2: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_10.link" sourceRef="eval_28.SF_18.So_22.FTE_8.oAACF" targetRef="eval_28.SF_18.So_22.FTE_10.oT"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_10.oT" name="opcion2: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_12.link" sourceRef="eval_28.SF_18.So_22.FTE_10.oT" targetRef="eval_28.SF_18.So_22.FTE_12.o"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_12.o" name="opcion2:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_14.link" sourceRef="eval_28.SF_18.So_22.FTE_12.o" targetRef="eval_28.SF_18.So_22.FTE_14.oPC"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_14.oPC" name="opcion2:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_16.link" sourceRef="eval_28.SF_18.So_22.FTE_14.oPC" targetRef="eval_28.SF_18.So_22.FTE_16.oPmi"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_22.FTE_16.oPmi" name="opcion2: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_22.FTE_18.link" sourceRef="eval_28.SF_18.So_22.FTE_16.oPmi" targetRef="eval_28.SF_18.So_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_18.So_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_18.So_24.link" sourceRef="eval_28.SF_18.So_22.FTE_18.join" targetRef="eval_28.SF_18.So_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_18.So_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_18.So_26.link" sourceRef="eval_28.SF_18.So_24.Cat" targetRef="eval_28.SF_18.So_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_18.So_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_18.So_28.link" sourceRef="eval_28.SF_18.So_24.Cat" targetRef="eval_28.SF_18.So_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_18.So_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_20.link" sourceRef="eval_28.SF_18.So" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_21.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_21.Sd"></sequenceFlow>
    <subProcess id="eval_28.SF_21.Sd" name="SubModel divisa1">
      <startEvent id="eval_28.SF_21.Sd_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_21.Sd_2.link" sourceRef="eval_28.SF_21.Sd_1.start" targetRef="eval_28.SF_21.Sd_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="divisa1"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_4.link" sourceRef="eval_28.SF_21.Sd_2.Cts" targetRef="eval_28.SF_21.Sd_4.dCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_4.dCS" name="divisa1: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/divisa1"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/divisa1/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_6.link" sourceRef="eval_28.SF_21.Sd_4.dCS" targetRef="eval_28.SF_21.Sd_6.dCS"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_6.dCS" name="divisa1: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/divisa1"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/divisa1/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_8.link" sourceRef="eval_28.SF_21.Sd_6.dCS" targetRef="eval_28.SF_21.Sd_8.dRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_8.dRhpo" name="divisa1: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/divisa1/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/divisa1/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;divisa1&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;divisa1\&quot;,\&quot;answerType\&quot;:\&quot;CURRENCY\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="divisa1"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_10.link" sourceRef="eval_28.SF_21.Sd_8.dRhpo" targetRef="eval_28.SF_21.Sd_10.dSbep"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_10.dSbep" name="divisa1: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_12.link" sourceRef="eval_28.SF_21.Sd_10.dSbep" targetRef="eval_28.SF_21.Sd_12.dSbep"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_12.dSbep" name="divisa1: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/divisa1/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_14.link" sourceRef="eval_28.SF_21.Sd_12.dSbep" targetRef="eval_28.SF_21.Sd_14.dCrto"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_14.dCrto" name="divisa1: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_16.link" sourceRef="eval_28.SF_21.Sd_14.dCrto" targetRef="eval_28.SF_21.Sd_16.dFE"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_16.dFE" name="divisa1: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/divisa1/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;divisa1&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_18.link" sourceRef="eval_28.SF_21.Sd_16.dFE" targetRef="eval_28.SF_21.Sd_18.dRS"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_18.dRS" name="divisa1: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/divisa1/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_20.link" sourceRef="eval_28.SF_21.Sd_18.dRS" targetRef="eval_28.SF_21.Sd_20.dSF"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_20.dSF" name="divisa1: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.link" sourceRef="eval_28.SF_21.Sd_20.dSF" targetRef="eval_28.SF_21.Sd_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_21.Sd_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_2.link" sourceRef="eval_28.SF_21.Sd_22.FTE_1.split" targetRef="eval_28.SF_21.Sd_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_21.Sd_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_21.Sd_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_2.dAF"></sequenceFlow>
        <userTask id="eval_28.SF_21.Sd_22.FTE_2.FEPF_2.dAF" name="divisa1:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_2.dAF" targetRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_4.dT"></sequenceFlow>
        <userTask id="eval_28.SF_21.Sd_22.FTE_2.FEPF_4.dT" name="divisa1: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_4.dT" targetRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_6.dC"></sequenceFlow>
        <userTask id="eval_28.SF_21.Sd_22.FTE_2.FEPF_6.dC" name="divisa1(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_6.dC" targetRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_8.dAR"></sequenceFlow>
        <userTask id="eval_28.SF_21.Sd_22.FTE_2.FEPF_8.dAR" name="divisa1: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="divisa1"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_8.dAR" targetRef="eval_28.SF_21.Sd_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_21.Sd_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_4.link" sourceRef="eval_28.SF_21.Sd_22.FTE_2.FEPF" targetRef="eval_28.SF_21.Sd_22.FTE_4.dCOS"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_4.dCOS" name="divisa1: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_6.link" sourceRef="eval_28.SF_21.Sd_22.FTE_4.dCOS" targetRef="eval_28.SF_21.Sd_22.FTE_6.dSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_6.dSSTT" name="divisa1: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_8.link" sourceRef="eval_28.SF_21.Sd_22.FTE_6.dSSTT" targetRef="eval_28.SF_21.Sd_22.FTE_8.dAACF"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_8.dAACF" name="divisa1: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_10.link" sourceRef="eval_28.SF_21.Sd_22.FTE_8.dAACF" targetRef="eval_28.SF_21.Sd_22.FTE_10.dT"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_10.dT" name="divisa1: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_12.link" sourceRef="eval_28.SF_21.Sd_22.FTE_10.dT" targetRef="eval_28.SF_21.Sd_22.FTE_12.d"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_12.d" name="divisa1:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_14.link" sourceRef="eval_28.SF_21.Sd_22.FTE_12.d" targetRef="eval_28.SF_21.Sd_22.FTE_14.dPC"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_14.dPC" name="divisa1:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_16.link" sourceRef="eval_28.SF_21.Sd_22.FTE_14.dPC" targetRef="eval_28.SF_21.Sd_22.FTE_16.dPmi"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_22.FTE_16.dPmi" name="divisa1: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_22.FTE_18.link" sourceRef="eval_28.SF_21.Sd_22.FTE_16.dPmi" targetRef="eval_28.SF_21.Sd_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_21.Sd_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_21.Sd_24.link" sourceRef="eval_28.SF_21.Sd_22.FTE_18.join" targetRef="eval_28.SF_21.Sd_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_21.Sd_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_21.Sd_26.link" sourceRef="eval_28.SF_21.Sd_24.Cat" targetRef="eval_28.SF_21.Sd_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_21.Sd_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_21.Sd_28.link" sourceRef="eval_28.SF_21.Sd_24.Cat" targetRef="eval_28.SF_21.Sd_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_21.Sd_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_23.link" sourceRef="eval_28.SF_21.Sd" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_24.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_24.Sd"></sequenceFlow>
    <subProcess id="eval_28.SF_24.Sd" name="SubModel divisa2">
      <startEvent id="eval_28.SF_24.Sd_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_24.Sd_2.link" sourceRef="eval_28.SF_24.Sd_1.start" targetRef="eval_28.SF_24.Sd_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="divisa2"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_4.link" sourceRef="eval_28.SF_24.Sd_2.Cts" targetRef="eval_28.SF_24.Sd_4.dCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_4.dCS" name="divisa2: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/divisa2"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/divisa2/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_6.link" sourceRef="eval_28.SF_24.Sd_4.dCS" targetRef="eval_28.SF_24.Sd_6.dCS"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_6.dCS" name="divisa2: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/divisa2"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/divisa2/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_8.link" sourceRef="eval_28.SF_24.Sd_6.dCS" targetRef="eval_28.SF_24.Sd_8.dRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_8.dRhpo" name="divisa2: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/divisa2/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/divisa2/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;divisa2&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;divisa2\&quot;,\&quot;answerType\&quot;:\&quot;CURRENCY\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="divisa2"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_10.link" sourceRef="eval_28.SF_24.Sd_8.dRhpo" targetRef="eval_28.SF_24.Sd_10.dSbep"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_10.dSbep" name="divisa2: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_12.link" sourceRef="eval_28.SF_24.Sd_10.dSbep" targetRef="eval_28.SF_24.Sd_12.dSbep"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_12.dSbep" name="divisa2: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/divisa2/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_14.link" sourceRef="eval_28.SF_24.Sd_12.dSbep" targetRef="eval_28.SF_24.Sd_14.dCrto"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_14.dCrto" name="divisa2: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_16.link" sourceRef="eval_28.SF_24.Sd_14.dCrto" targetRef="eval_28.SF_24.Sd_16.dFE"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_16.dFE" name="divisa2: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/divisa2/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;divisa2&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_18.link" sourceRef="eval_28.SF_24.Sd_16.dFE" targetRef="eval_28.SF_24.Sd_18.dRS"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_18.dRS" name="divisa2: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/divisa2/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_20.link" sourceRef="eval_28.SF_24.Sd_18.dRS" targetRef="eval_28.SF_24.Sd_20.dSF"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_20.dSF" name="divisa2: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.link" sourceRef="eval_28.SF_24.Sd_20.dSF" targetRef="eval_28.SF_24.Sd_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_24.Sd_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_2.link" sourceRef="eval_28.SF_24.Sd_22.FTE_1.split" targetRef="eval_28.SF_24.Sd_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_24.Sd_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_24.Sd_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_2.dAF"></sequenceFlow>
        <userTask id="eval_28.SF_24.Sd_22.FTE_2.FEPF_2.dAF" name="divisa2:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_2.dAF" targetRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_4.dT"></sequenceFlow>
        <userTask id="eval_28.SF_24.Sd_22.FTE_2.FEPF_4.dT" name="divisa2: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_4.dT" targetRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_6.dC"></sequenceFlow>
        <userTask id="eval_28.SF_24.Sd_22.FTE_2.FEPF_6.dC" name="divisa2(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_6.dC" targetRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_8.dAR"></sequenceFlow>
        <userTask id="eval_28.SF_24.Sd_22.FTE_2.FEPF_8.dAR" name="divisa2: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="divisa2"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_8.dAR" targetRef="eval_28.SF_24.Sd_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_24.Sd_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_4.link" sourceRef="eval_28.SF_24.Sd_22.FTE_2.FEPF" targetRef="eval_28.SF_24.Sd_22.FTE_4.dCOS"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_4.dCOS" name="divisa2: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_6.link" sourceRef="eval_28.SF_24.Sd_22.FTE_4.dCOS" targetRef="eval_28.SF_24.Sd_22.FTE_6.dSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_6.dSSTT" name="divisa2: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_8.link" sourceRef="eval_28.SF_24.Sd_22.FTE_6.dSSTT" targetRef="eval_28.SF_24.Sd_22.FTE_8.dAACF"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_8.dAACF" name="divisa2: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_10.link" sourceRef="eval_28.SF_24.Sd_22.FTE_8.dAACF" targetRef="eval_28.SF_24.Sd_22.FTE_10.dT"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_10.dT" name="divisa2: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_12.link" sourceRef="eval_28.SF_24.Sd_22.FTE_10.dT" targetRef="eval_28.SF_24.Sd_22.FTE_12.d"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_12.d" name="divisa2:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_14.link" sourceRef="eval_28.SF_24.Sd_22.FTE_12.d" targetRef="eval_28.SF_24.Sd_22.FTE_14.dPC"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_14.dPC" name="divisa2:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_16.link" sourceRef="eval_28.SF_24.Sd_22.FTE_14.dPC" targetRef="eval_28.SF_24.Sd_22.FTE_16.dPmi"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_22.FTE_16.dPmi" name="divisa2: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_22.FTE_18.link" sourceRef="eval_28.SF_24.Sd_22.FTE_16.dPmi" targetRef="eval_28.SF_24.Sd_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_24.Sd_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_24.Sd_24.link" sourceRef="eval_28.SF_24.Sd_22.FTE_18.join" targetRef="eval_28.SF_24.Sd_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_24.Sd_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_24.Sd_26.link" sourceRef="eval_28.SF_24.Sd_24.Cat" targetRef="eval_28.SF_24.Sd_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_24.Sd_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_24.Sd_28.link" sourceRef="eval_28.SF_24.Sd_24.Cat" targetRef="eval_28.SF_24.Sd_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_24.Sd_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_26.link" sourceRef="eval_28.SF_24.Sd" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_27.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_27.Sn"></sequenceFlow>
    <subProcess id="eval_28.SF_27.Sn" name="SubModel nominal1">
      <startEvent id="eval_28.SF_27.Sn_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_27.Sn_2.link" sourceRef="eval_28.SF_27.Sn_1.start" targetRef="eval_28.SF_27.Sn_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="nominal1"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_4.link" sourceRef="eval_28.SF_27.Sn_2.Cts" targetRef="eval_28.SF_27.Sn_4.nCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_4.nCS" name="nominal1: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/nominal1"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/nominal1/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_6.link" sourceRef="eval_28.SF_27.Sn_4.nCS" targetRef="eval_28.SF_27.Sn_6.nCS"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_6.nCS" name="nominal1: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/nominal1"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/nominal1/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_8.link" sourceRef="eval_28.SF_27.Sn_6.nCS" targetRef="eval_28.SF_27.Sn_8.nRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_8.nRhpo" name="nominal1: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/nominal1/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/nominal1/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;nominal1&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;nominal1\&quot;,\&quot;answerType\&quot;:\&quot;NUMBER\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="nominal1"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_10.link" sourceRef="eval_28.SF_27.Sn_8.nRhpo" targetRef="eval_28.SF_27.Sn_10.nSbep"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_10.nSbep" name="nominal1: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_12.link" sourceRef="eval_28.SF_27.Sn_10.nSbep" targetRef="eval_28.SF_27.Sn_12.nSbep"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_12.nSbep" name="nominal1: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/nominal1/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_14.link" sourceRef="eval_28.SF_27.Sn_12.nSbep" targetRef="eval_28.SF_27.Sn_14.nCrto"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_14.nCrto" name="nominal1: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_16.link" sourceRef="eval_28.SF_27.Sn_14.nCrto" targetRef="eval_28.SF_27.Sn_16.nFE"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_16.nFE" name="nominal1: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/nominal1/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;nominal1&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_18.link" sourceRef="eval_28.SF_27.Sn_16.nFE" targetRef="eval_28.SF_27.Sn_18.nRS"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_18.nRS" name="nominal1: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/nominal1/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_20.link" sourceRef="eval_28.SF_27.Sn_18.nRS" targetRef="eval_28.SF_27.Sn_20.nSF"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_20.nSF" name="nominal1: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.link" sourceRef="eval_28.SF_27.Sn_20.nSF" targetRef="eval_28.SF_27.Sn_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_27.Sn_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_2.link" sourceRef="eval_28.SF_27.Sn_22.FTE_1.split" targetRef="eval_28.SF_27.Sn_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_27.Sn_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_27.Sn_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_2.nAF"></sequenceFlow>
        <userTask id="eval_28.SF_27.Sn_22.FTE_2.FEPF_2.nAF" name="nominal1:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_2.nAF" targetRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_4.nT"></sequenceFlow>
        <userTask id="eval_28.SF_27.Sn_22.FTE_2.FEPF_4.nT" name="nominal1: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_4.nT" targetRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_6.nC"></sequenceFlow>
        <userTask id="eval_28.SF_27.Sn_22.FTE_2.FEPF_6.nC" name="nominal1(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_6.nC" targetRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_8.nAR"></sequenceFlow>
        <userTask id="eval_28.SF_27.Sn_22.FTE_2.FEPF_8.nAR" name="nominal1: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="nominal1"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_8.nAR" targetRef="eval_28.SF_27.Sn_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_27.Sn_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_4.link" sourceRef="eval_28.SF_27.Sn_22.FTE_2.FEPF" targetRef="eval_28.SF_27.Sn_22.FTE_4.nCOS"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_4.nCOS" name="nominal1: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_6.link" sourceRef="eval_28.SF_27.Sn_22.FTE_4.nCOS" targetRef="eval_28.SF_27.Sn_22.FTE_6.nSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_6.nSSTT" name="nominal1: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_8.link" sourceRef="eval_28.SF_27.Sn_22.FTE_6.nSSTT" targetRef="eval_28.SF_27.Sn_22.FTE_8.nAACF"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_8.nAACF" name="nominal1: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_10.link" sourceRef="eval_28.SF_27.Sn_22.FTE_8.nAACF" targetRef="eval_28.SF_27.Sn_22.FTE_10.nT"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_10.nT" name="nominal1: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_12.link" sourceRef="eval_28.SF_27.Sn_22.FTE_10.nT" targetRef="eval_28.SF_27.Sn_22.FTE_12.n"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_12.n" name="nominal1:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_14.link" sourceRef="eval_28.SF_27.Sn_22.FTE_12.n" targetRef="eval_28.SF_27.Sn_22.FTE_14.nPC"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_14.nPC" name="nominal1:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_16.link" sourceRef="eval_28.SF_27.Sn_22.FTE_14.nPC" targetRef="eval_28.SF_27.Sn_22.FTE_16.nPmi"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_22.FTE_16.nPmi" name="nominal1: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_22.FTE_18.link" sourceRef="eval_28.SF_27.Sn_22.FTE_16.nPmi" targetRef="eval_28.SF_27.Sn_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_27.Sn_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_27.Sn_24.link" sourceRef="eval_28.SF_27.Sn_22.FTE_18.join" targetRef="eval_28.SF_27.Sn_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_27.Sn_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_27.Sn_26.link" sourceRef="eval_28.SF_27.Sn_24.Cat" targetRef="eval_28.SF_27.Sn_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_27.Sn_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_27.Sn_28.link" sourceRef="eval_28.SF_27.Sn_24.Cat" targetRef="eval_28.SF_27.Sn_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_27.Sn_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_29.link" sourceRef="eval_28.SF_27.Sn" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_30.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_30.Sn"></sequenceFlow>
    <subProcess id="eval_28.SF_30.Sn" name="SubModel nominal2">
      <startEvent id="eval_28.SF_30.Sn_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_30.Sn_2.link" sourceRef="eval_28.SF_30.Sn_1.start" targetRef="eval_28.SF_30.Sn_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="nominal2"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_4.link" sourceRef="eval_28.SF_30.Sn_2.Cts" targetRef="eval_28.SF_30.Sn_4.nCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_4.nCS" name="nominal2: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/nominal2"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/nominal2/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_6.link" sourceRef="eval_28.SF_30.Sn_4.nCS" targetRef="eval_28.SF_30.Sn_6.nCS"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_6.nCS" name="nominal2: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/nominal2"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/nominal2/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_8.link" sourceRef="eval_28.SF_30.Sn_6.nCS" targetRef="eval_28.SF_30.Sn_8.nRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_8.nRhpo" name="nominal2: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/nominal2/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/nominal2/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;nominal2&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;nominal2\&quot;,\&quot;answerType\&quot;:\&quot;NUMBER\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="nominal2"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_10.link" sourceRef="eval_28.SF_30.Sn_8.nRhpo" targetRef="eval_28.SF_30.Sn_10.nSbep"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_10.nSbep" name="nominal2: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_12.link" sourceRef="eval_28.SF_30.Sn_10.nSbep" targetRef="eval_28.SF_30.Sn_12.nSbep"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_12.nSbep" name="nominal2: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/nominal2/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_14.link" sourceRef="eval_28.SF_30.Sn_12.nSbep" targetRef="eval_28.SF_30.Sn_14.nCrto"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_14.nCrto" name="nominal2: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_16.link" sourceRef="eval_28.SF_30.Sn_14.nCrto" targetRef="eval_28.SF_30.Sn_16.nFE"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_16.nFE" name="nominal2: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/nominal2/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;nominal2&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_18.link" sourceRef="eval_28.SF_30.Sn_16.nFE" targetRef="eval_28.SF_30.Sn_18.nRS"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_18.nRS" name="nominal2: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/nominal2/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_20.link" sourceRef="eval_28.SF_30.Sn_18.nRS" targetRef="eval_28.SF_30.Sn_20.nSF"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_20.nSF" name="nominal2: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.link" sourceRef="eval_28.SF_30.Sn_20.nSF" targetRef="eval_28.SF_30.Sn_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_30.Sn_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_2.link" sourceRef="eval_28.SF_30.Sn_22.FTE_1.split" targetRef="eval_28.SF_30.Sn_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_30.Sn_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_30.Sn_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_2.nAF"></sequenceFlow>
        <userTask id="eval_28.SF_30.Sn_22.FTE_2.FEPF_2.nAF" name="nominal2:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_2.nAF" targetRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_4.nT"></sequenceFlow>
        <userTask id="eval_28.SF_30.Sn_22.FTE_2.FEPF_4.nT" name="nominal2: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_4.nT" targetRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_6.nC"></sequenceFlow>
        <userTask id="eval_28.SF_30.Sn_22.FTE_2.FEPF_6.nC" name="nominal2(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_6.nC" targetRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_8.nAR"></sequenceFlow>
        <userTask id="eval_28.SF_30.Sn_22.FTE_2.FEPF_8.nAR" name="nominal2: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="nominal2"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_8.nAR" targetRef="eval_28.SF_30.Sn_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_30.Sn_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_4.link" sourceRef="eval_28.SF_30.Sn_22.FTE_2.FEPF" targetRef="eval_28.SF_30.Sn_22.FTE_4.nCOS"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_4.nCOS" name="nominal2: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_6.link" sourceRef="eval_28.SF_30.Sn_22.FTE_4.nCOS" targetRef="eval_28.SF_30.Sn_22.FTE_6.nSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_6.nSSTT" name="nominal2: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_8.link" sourceRef="eval_28.SF_30.Sn_22.FTE_6.nSSTT" targetRef="eval_28.SF_30.Sn_22.FTE_8.nAACF"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_8.nAACF" name="nominal2: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_10.link" sourceRef="eval_28.SF_30.Sn_22.FTE_8.nAACF" targetRef="eval_28.SF_30.Sn_22.FTE_10.nT"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_10.nT" name="nominal2: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_12.link" sourceRef="eval_28.SF_30.Sn_22.FTE_10.nT" targetRef="eval_28.SF_30.Sn_22.FTE_12.n"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_12.n" name="nominal2:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_14.link" sourceRef="eval_28.SF_30.Sn_22.FTE_12.n" targetRef="eval_28.SF_30.Sn_22.FTE_14.nPC"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_14.nPC" name="nominal2:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_16.link" sourceRef="eval_28.SF_30.Sn_22.FTE_14.nPC" targetRef="eval_28.SF_30.Sn_22.FTE_16.nPmi"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_22.FTE_16.nPmi" name="nominal2: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_22.FTE_18.link" sourceRef="eval_28.SF_30.Sn_22.FTE_16.nPmi" targetRef="eval_28.SF_30.Sn_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_30.Sn_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_30.Sn_24.link" sourceRef="eval_28.SF_30.Sn_22.FTE_18.join" targetRef="eval_28.SF_30.Sn_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_30.Sn_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_30.Sn_26.link" sourceRef="eval_28.SF_30.Sn_24.Cat" targetRef="eval_28.SF_30.Sn_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_30.Sn_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_30.Sn_28.link" sourceRef="eval_28.SF_30.Sn_24.Cat" targetRef="eval_28.SF_30.Sn_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_30.Sn_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_32.link" sourceRef="eval_28.SF_30.Sn" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_33.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_33.Ss"></sequenceFlow>
    <subProcess id="eval_28.SF_33.Ss" name="SubModel strike_">
      <startEvent id="eval_28.SF_33.Ss_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_33.Ss_2.link" sourceRef="eval_28.SF_33.Ss_1.start" targetRef="eval_28.SF_33.Ss_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="strike_"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_4.link" sourceRef="eval_28.SF_33.Ss_2.Cts" targetRef="eval_28.SF_33.Ss_4.sCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_4.sCS" name="strike_: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/strike_"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/strike_/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_6.link" sourceRef="eval_28.SF_33.Ss_4.sCS" targetRef="eval_28.SF_33.Ss_6.sCS"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_6.sCS" name="strike_: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/strike_"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/strike_/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_8.link" sourceRef="eval_28.SF_33.Ss_6.sCS" targetRef="eval_28.SF_33.Ss_8.sRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_8.sRhpo" name="strike_: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/strike_/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/strike_/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;strike_&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;strike_\&quot;,\&quot;answerType\&quot;:\&quot;NUMBER\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="strike_"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_10.link" sourceRef="eval_28.SF_33.Ss_8.sRhpo" targetRef="eval_28.SF_33.Ss_10.sSbep"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_10.sSbep" name="strike_: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_12.link" sourceRef="eval_28.SF_33.Ss_10.sSbep" targetRef="eval_28.SF_33.Ss_12.sSbep"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_12.sSbep" name="strike_: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/strike_/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_14.link" sourceRef="eval_28.SF_33.Ss_12.sSbep" targetRef="eval_28.SF_33.Ss_14.sCrto"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_14.sCrto" name="strike_: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_16.link" sourceRef="eval_28.SF_33.Ss_14.sCrto" targetRef="eval_28.SF_33.Ss_16.sFE"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_16.sFE" name="strike_: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/strike_/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;strike_&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_18.link" sourceRef="eval_28.SF_33.Ss_16.sFE" targetRef="eval_28.SF_33.Ss_18.sRS"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_18.sRS" name="strike_: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/strike_/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_20.link" sourceRef="eval_28.SF_33.Ss_18.sRS" targetRef="eval_28.SF_33.Ss_20.sSF"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_20.sSF" name="strike_: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.link" sourceRef="eval_28.SF_33.Ss_20.sSF" targetRef="eval_28.SF_33.Ss_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_33.Ss_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_2.link" sourceRef="eval_28.SF_33.Ss_22.FTE_1.split" targetRef="eval_28.SF_33.Ss_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_33.Ss_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_33.Ss_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_2.sAF"></sequenceFlow>
        <userTask id="eval_28.SF_33.Ss_22.FTE_2.FEPF_2.sAF" name="strike_:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_2.sAF" targetRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_4.sT"></sequenceFlow>
        <userTask id="eval_28.SF_33.Ss_22.FTE_2.FEPF_4.sT" name="strike_: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_4.sT" targetRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_6.sC"></sequenceFlow>
        <userTask id="eval_28.SF_33.Ss_22.FTE_2.FEPF_6.sC" name="strike_(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_6.sC" targetRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_8.sAR"></sequenceFlow>
        <userTask id="eval_28.SF_33.Ss_22.FTE_2.FEPF_8.sAR" name="strike_: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="strike_"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_8.sAR" targetRef="eval_28.SF_33.Ss_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_33.Ss_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_4.link" sourceRef="eval_28.SF_33.Ss_22.FTE_2.FEPF" targetRef="eval_28.SF_33.Ss_22.FTE_4.sCOS"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_4.sCOS" name="strike_: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_6.link" sourceRef="eval_28.SF_33.Ss_22.FTE_4.sCOS" targetRef="eval_28.SF_33.Ss_22.FTE_6.sSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_6.sSSTT" name="strike_: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_8.link" sourceRef="eval_28.SF_33.Ss_22.FTE_6.sSSTT" targetRef="eval_28.SF_33.Ss_22.FTE_8.sAACF"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_8.sAACF" name="strike_: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_10.link" sourceRef="eval_28.SF_33.Ss_22.FTE_8.sAACF" targetRef="eval_28.SF_33.Ss_22.FTE_10.sT"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_10.sT" name="strike_: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_12.link" sourceRef="eval_28.SF_33.Ss_22.FTE_10.sT" targetRef="eval_28.SF_33.Ss_22.FTE_12.s"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_12.s" name="strike_:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_14.link" sourceRef="eval_28.SF_33.Ss_22.FTE_12.s" targetRef="eval_28.SF_33.Ss_22.FTE_14.sPC"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_14.sPC" name="strike_:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_16.link" sourceRef="eval_28.SF_33.Ss_22.FTE_14.sPC" targetRef="eval_28.SF_33.Ss_22.FTE_16.sPmi"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_22.FTE_16.sPmi" name="strike_: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_22.FTE_18.link" sourceRef="eval_28.SF_33.Ss_22.FTE_16.sPmi" targetRef="eval_28.SF_33.Ss_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_33.Ss_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_33.Ss_24.link" sourceRef="eval_28.SF_33.Ss_22.FTE_18.join" targetRef="eval_28.SF_33.Ss_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_33.Ss_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_33.Ss_26.link" sourceRef="eval_28.SF_33.Ss_24.Cat" targetRef="eval_28.SF_33.Ss_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_33.Ss_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_33.Ss_28.link" sourceRef="eval_28.SF_33.Ss_24.Cat" targetRef="eval_28.SF_33.Ss_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_33.Ss_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_35.link" sourceRef="eval_28.SF_33.Ss" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_36.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_36.Sp"></sequenceFlow>
    <subProcess id="eval_28.SF_36.Sp" name="SubModel precio">
      <startEvent id="eval_28.SF_36.Sp_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_36.Sp_2.link" sourceRef="eval_28.SF_36.Sp_1.start" targetRef="eval_28.SF_36.Sp_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="precio"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_4.link" sourceRef="eval_28.SF_36.Sp_2.Cts" targetRef="eval_28.SF_36.Sp_4.pCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_4.pCS" name="precio: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/precio"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/precio/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_6.link" sourceRef="eval_28.SF_36.Sp_4.pCS" targetRef="eval_28.SF_36.Sp_6.pCS"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_6.pCS" name="precio: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/precio"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/precio/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_8.link" sourceRef="eval_28.SF_36.Sp_6.pCS" targetRef="eval_28.SF_36.Sp_8.pRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_8.pRhpo" name="precio: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/precio/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/precio/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;precio&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;precio\&quot;,\&quot;answerType\&quot;:\&quot;FREE_TEXT\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="precio"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_10.link" sourceRef="eval_28.SF_36.Sp_8.pRhpo" targetRef="eval_28.SF_36.Sp_10.pSbep"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_10.pSbep" name="precio: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_12.link" sourceRef="eval_28.SF_36.Sp_10.pSbep" targetRef="eval_28.SF_36.Sp_12.pSbep"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_12.pSbep" name="precio: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/precio/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_14.link" sourceRef="eval_28.SF_36.Sp_12.pSbep" targetRef="eval_28.SF_36.Sp_14.pCrto"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_14.pCrto" name="precio: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_16.link" sourceRef="eval_28.SF_36.Sp_14.pCrto" targetRef="eval_28.SF_36.Sp_16.pFE"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_16.pFE" name="precio: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/precio/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;precio&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_18.link" sourceRef="eval_28.SF_36.Sp_16.pFE" targetRef="eval_28.SF_36.Sp_18.pRS"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_18.pRS" name="precio: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/precio/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_20.link" sourceRef="eval_28.SF_36.Sp_18.pRS" targetRef="eval_28.SF_36.Sp_20.pSF"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_20.pSF" name="precio: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.link" sourceRef="eval_28.SF_36.Sp_20.pSF" targetRef="eval_28.SF_36.Sp_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_36.Sp_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_2.link" sourceRef="eval_28.SF_36.Sp_22.FTE_1.split" targetRef="eval_28.SF_36.Sp_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_36.Sp_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_36.Sp_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_2.pAF"></sequenceFlow>
        <userTask id="eval_28.SF_36.Sp_22.FTE_2.FEPF_2.pAF" name="precio:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_2.pAF" targetRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_4.pT"></sequenceFlow>
        <userTask id="eval_28.SF_36.Sp_22.FTE_2.FEPF_4.pT" name="precio: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_4.pT" targetRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_6.pC"></sequenceFlow>
        <userTask id="eval_28.SF_36.Sp_22.FTE_2.FEPF_6.pC" name="precio(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_6.pC" targetRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_8.pAR"></sequenceFlow>
        <userTask id="eval_28.SF_36.Sp_22.FTE_2.FEPF_8.pAR" name="precio: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="precio"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_8.pAR" targetRef="eval_28.SF_36.Sp_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_36.Sp_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_4.link" sourceRef="eval_28.SF_36.Sp_22.FTE_2.FEPF" targetRef="eval_28.SF_36.Sp_22.FTE_4.pCOS"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_4.pCOS" name="precio: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_6.link" sourceRef="eval_28.SF_36.Sp_22.FTE_4.pCOS" targetRef="eval_28.SF_36.Sp_22.FTE_6.pSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_6.pSSTT" name="precio: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_8.link" sourceRef="eval_28.SF_36.Sp_22.FTE_6.pSSTT" targetRef="eval_28.SF_36.Sp_22.FTE_8.pAACF"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_8.pAACF" name="precio: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_10.link" sourceRef="eval_28.SF_36.Sp_22.FTE_8.pAACF" targetRef="eval_28.SF_36.Sp_22.FTE_10.pT"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_10.pT" name="precio: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_12.link" sourceRef="eval_28.SF_36.Sp_22.FTE_10.pT" targetRef="eval_28.SF_36.Sp_22.FTE_12.p"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_12.p" name="precio:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_14.link" sourceRef="eval_28.SF_36.Sp_22.FTE_12.p" targetRef="eval_28.SF_36.Sp_22.FTE_14.pPC"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_14.pPC" name="precio:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_16.link" sourceRef="eval_28.SF_36.Sp_22.FTE_14.pPC" targetRef="eval_28.SF_36.Sp_22.FTE_16.pPmi"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_22.FTE_16.pPmi" name="precio: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_22.FTE_18.link" sourceRef="eval_28.SF_36.Sp_22.FTE_16.pPmi" targetRef="eval_28.SF_36.Sp_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_36.Sp_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_36.Sp_24.link" sourceRef="eval_28.SF_36.Sp_22.FTE_18.join" targetRef="eval_28.SF_36.Sp_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_36.Sp_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_36.Sp_26.link" sourceRef="eval_28.SF_36.Sp_24.Cat" targetRef="eval_28.SF_36.Sp_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_36.Sp_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_36.Sp_28.link" sourceRef="eval_28.SF_36.Sp_24.Cat" targetRef="eval_28.SF_36.Sp_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_36.Sp_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_38.link" sourceRef="eval_28.SF_36.Sp" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_39.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_39.Sp"></sequenceFlow>
    <subProcess id="eval_28.SF_39.Sp" name="SubModel prima">
      <startEvent id="eval_28.SF_39.Sp_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_39.Sp_2.link" sourceRef="eval_28.SF_39.Sp_1.start" targetRef="eval_28.SF_39.Sp_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="prima"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_4.link" sourceRef="eval_28.SF_39.Sp_2.Cts" targetRef="eval_28.SF_39.Sp_4.pCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_4.pCS" name="prima: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/prima"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/prima/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_6.link" sourceRef="eval_28.SF_39.Sp_4.pCS" targetRef="eval_28.SF_39.Sp_6.pCS"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_6.pCS" name="prima: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/prima"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/prima/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_8.link" sourceRef="eval_28.SF_39.Sp_6.pCS" targetRef="eval_28.SF_39.Sp_8.pRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_8.pRhpo" name="prima: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/prima/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/prima/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;prima&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;prima\&quot;,\&quot;answerType\&quot;:\&quot;NUMBER\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="prima"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_10.link" sourceRef="eval_28.SF_39.Sp_8.pRhpo" targetRef="eval_28.SF_39.Sp_10.pSbep"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_10.pSbep" name="prima: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_12.link" sourceRef="eval_28.SF_39.Sp_10.pSbep" targetRef="eval_28.SF_39.Sp_12.pSbep"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_12.pSbep" name="prima: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/prima/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_14.link" sourceRef="eval_28.SF_39.Sp_12.pSbep" targetRef="eval_28.SF_39.Sp_14.pCrto"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_14.pCrto" name="prima: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_16.link" sourceRef="eval_28.SF_39.Sp_14.pCrto" targetRef="eval_28.SF_39.Sp_16.pFE"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_16.pFE" name="prima: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/prima/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;prima&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_18.link" sourceRef="eval_28.SF_39.Sp_16.pFE" targetRef="eval_28.SF_39.Sp_18.pRS"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_18.pRS" name="prima: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/prima/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_20.link" sourceRef="eval_28.SF_39.Sp_18.pRS" targetRef="eval_28.SF_39.Sp_20.pSF"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_20.pSF" name="prima: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.link" sourceRef="eval_28.SF_39.Sp_20.pSF" targetRef="eval_28.SF_39.Sp_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_39.Sp_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_2.link" sourceRef="eval_28.SF_39.Sp_22.FTE_1.split" targetRef="eval_28.SF_39.Sp_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_39.Sp_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_39.Sp_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_2.pAF"></sequenceFlow>
        <userTask id="eval_28.SF_39.Sp_22.FTE_2.FEPF_2.pAF" name="prima:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_2.pAF" targetRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_4.pT"></sequenceFlow>
        <userTask id="eval_28.SF_39.Sp_22.FTE_2.FEPF_4.pT" name="prima: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_4.pT" targetRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_6.pC"></sequenceFlow>
        <userTask id="eval_28.SF_39.Sp_22.FTE_2.FEPF_6.pC" name="prima(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_6.pC" targetRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_8.pAR"></sequenceFlow>
        <userTask id="eval_28.SF_39.Sp_22.FTE_2.FEPF_8.pAR" name="prima: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="prima"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_8.pAR" targetRef="eval_28.SF_39.Sp_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_39.Sp_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_4.link" sourceRef="eval_28.SF_39.Sp_22.FTE_2.FEPF" targetRef="eval_28.SF_39.Sp_22.FTE_4.pCOS"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_4.pCOS" name="prima: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_6.link" sourceRef="eval_28.SF_39.Sp_22.FTE_4.pCOS" targetRef="eval_28.SF_39.Sp_22.FTE_6.pSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_6.pSSTT" name="prima: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_8.link" sourceRef="eval_28.SF_39.Sp_22.FTE_6.pSSTT" targetRef="eval_28.SF_39.Sp_22.FTE_8.pAACF"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_8.pAACF" name="prima: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_10.link" sourceRef="eval_28.SF_39.Sp_22.FTE_8.pAACF" targetRef="eval_28.SF_39.Sp_22.FTE_10.pT"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_10.pT" name="prima: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_12.link" sourceRef="eval_28.SF_39.Sp_22.FTE_10.pT" targetRef="eval_28.SF_39.Sp_22.FTE_12.p"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_12.p" name="prima:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_14.link" sourceRef="eval_28.SF_39.Sp_22.FTE_12.p" targetRef="eval_28.SF_39.Sp_22.FTE_14.pPC"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_14.pPC" name="prima:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_16.link" sourceRef="eval_28.SF_39.Sp_22.FTE_14.pPC" targetRef="eval_28.SF_39.Sp_22.FTE_16.pPmi"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_22.FTE_16.pPmi" name="prima: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_22.FTE_18.link" sourceRef="eval_28.SF_39.Sp_22.FTE_16.pPmi" targetRef="eval_28.SF_39.Sp_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_39.Sp_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_39.Sp_24.link" sourceRef="eval_28.SF_39.Sp_22.FTE_18.join" targetRef="eval_28.SF_39.Sp_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_39.Sp_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_39.Sp_26.link" sourceRef="eval_28.SF_39.Sp_24.Cat" targetRef="eval_28.SF_39.Sp_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_39.Sp_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_39.Sp_28.link" sourceRef="eval_28.SF_39.Sp_24.Cat" targetRef="eval_28.SF_39.Sp_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_39.Sp_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_41.link" sourceRef="eval_28.SF_39.Sp" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_42.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_42.Sd"></sequenceFlow>
    <subProcess id="eval_28.SF_42.Sd" name="SubModel divisa_prima">
      <startEvent id="eval_28.SF_42.Sd_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_42.Sd_2.link" sourceRef="eval_28.SF_42.Sd_1.start" targetRef="eval_28.SF_42.Sd_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="divisa_prima"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_4.link" sourceRef="eval_28.SF_42.Sd_2.Cts" targetRef="eval_28.SF_42.Sd_4.dCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_4.dCS" name="divisa_prima: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/divisa_prima"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/divisa_prima/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_6.link" sourceRef="eval_28.SF_42.Sd_4.dCS" targetRef="eval_28.SF_42.Sd_6.dCS"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_6.dCS" name="divisa_prima: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/divisa_prima"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/divisa_prima/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_8.link" sourceRef="eval_28.SF_42.Sd_6.dCS" targetRef="eval_28.SF_42.Sd_8.dRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_8.dRhpo" name="divisa_prima: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/divisa_prima/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/divisa_prima/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;divisa_prima&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;divisa_prima\&quot;,\&quot;answerType\&quot;:\&quot;CURRENCY\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="divisa_prima"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_10.link" sourceRef="eval_28.SF_42.Sd_8.dRhpo" targetRef="eval_28.SF_42.Sd_10.dSbep"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_10.dSbep" name="divisa_prima: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_12.link" sourceRef="eval_28.SF_42.Sd_10.dSbep" targetRef="eval_28.SF_42.Sd_12.dSbep"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_12.dSbep" name="divisa_prima: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/divisa_prima/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_14.link" sourceRef="eval_28.SF_42.Sd_12.dSbep" targetRef="eval_28.SF_42.Sd_14.dCrto"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_14.dCrto" name="divisa_prima: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_16.link" sourceRef="eval_28.SF_42.Sd_14.dCrto" targetRef="eval_28.SF_42.Sd_16.dFE"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_16.dFE" name="divisa_prima: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/divisa_prima/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;divisa_prima&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_18.link" sourceRef="eval_28.SF_42.Sd_16.dFE" targetRef="eval_28.SF_42.Sd_18.dRS"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_18.dRS" name="divisa_prima: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/divisa_prima/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_20.link" sourceRef="eval_28.SF_42.Sd_18.dRS" targetRef="eval_28.SF_42.Sd_20.dSF"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_20.dSF" name="divisa_prima: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.link" sourceRef="eval_28.SF_42.Sd_20.dSF" targetRef="eval_28.SF_42.Sd_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_42.Sd_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_2.link" sourceRef="eval_28.SF_42.Sd_22.FTE_1.split" targetRef="eval_28.SF_42.Sd_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_42.Sd_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_42.Sd_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_2.dAF"></sequenceFlow>
        <userTask id="eval_28.SF_42.Sd_22.FTE_2.FEPF_2.dAF" name="divisa_prima:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_2.dAF" targetRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_4.dT"></sequenceFlow>
        <userTask id="eval_28.SF_42.Sd_22.FTE_2.FEPF_4.dT" name="divisa_prima: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_4.dT" targetRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_6.dC"></sequenceFlow>
        <userTask id="eval_28.SF_42.Sd_22.FTE_2.FEPF_6.dC" name="divisa_prima(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_6.dC" targetRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_8.dAR"></sequenceFlow>
        <userTask id="eval_28.SF_42.Sd_22.FTE_2.FEPF_8.dAR" name="divisa_prima: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="divisa_prima"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_8.dAR" targetRef="eval_28.SF_42.Sd_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_42.Sd_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_4.link" sourceRef="eval_28.SF_42.Sd_22.FTE_2.FEPF" targetRef="eval_28.SF_42.Sd_22.FTE_4.dCOS"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_4.dCOS" name="divisa_prima: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_6.link" sourceRef="eval_28.SF_42.Sd_22.FTE_4.dCOS" targetRef="eval_28.SF_42.Sd_22.FTE_6.dSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_6.dSSTT" name="divisa_prima: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_8.link" sourceRef="eval_28.SF_42.Sd_22.FTE_6.dSSTT" targetRef="eval_28.SF_42.Sd_22.FTE_8.dAACF"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_8.dAACF" name="divisa_prima: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_10.link" sourceRef="eval_28.SF_42.Sd_22.FTE_8.dAACF" targetRef="eval_28.SF_42.Sd_22.FTE_10.dT"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_10.dT" name="divisa_prima: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_12.link" sourceRef="eval_28.SF_42.Sd_22.FTE_10.dT" targetRef="eval_28.SF_42.Sd_22.FTE_12.d"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_12.d" name="divisa_prima:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_14.link" sourceRef="eval_28.SF_42.Sd_22.FTE_12.d" targetRef="eval_28.SF_42.Sd_22.FTE_14.dPC"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_14.dPC" name="divisa_prima:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_16.link" sourceRef="eval_28.SF_42.Sd_22.FTE_14.dPC" targetRef="eval_28.SF_42.Sd_22.FTE_16.dPmi"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_22.FTE_16.dPmi" name="divisa_prima: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_22.FTE_18.link" sourceRef="eval_28.SF_42.Sd_22.FTE_16.dPmi" targetRef="eval_28.SF_42.Sd_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_42.Sd_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_42.Sd_24.link" sourceRef="eval_28.SF_42.Sd_22.FTE_18.join" targetRef="eval_28.SF_42.Sd_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_42.Sd_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_42.Sd_26.link" sourceRef="eval_28.SF_42.Sd_24.Cat" targetRef="eval_28.SF_42.Sd_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_42.Sd_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_42.Sd_28.link" sourceRef="eval_28.SF_42.Sd_24.Cat" targetRef="eval_28.SF_42.Sd_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_42.Sd_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_44.link" sourceRef="eval_28.SF_42.Sd" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_45.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_45.Sf"></sequenceFlow>
    <subProcess id="eval_28.SF_45.Sf" name="SubModel fecha_pago_prima">
      <startEvent id="eval_28.SF_45.Sf_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_45.Sf_2.link" sourceRef="eval_28.SF_45.Sf_1.start" targetRef="eval_28.SF_45.Sf_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="fecha_pago_prima"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_4.link" sourceRef="eval_28.SF_45.Sf_2.Cts" targetRef="eval_28.SF_45.Sf_4.fCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_4.fCS" name="fecha_pago_prima: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_pago_prima"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/fecha_pago_prima/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_6.link" sourceRef="eval_28.SF_45.Sf_4.fCS" targetRef="eval_28.SF_45.Sf_6.fCS"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_6.fCS" name="fecha_pago_prima: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_pago_prima"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/fecha_pago_prima/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_8.link" sourceRef="eval_28.SF_45.Sf_6.fCS" targetRef="eval_28.SF_45.Sf_8.fRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_8.fRhpo" name="fecha_pago_prima: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/fecha_pago_prima/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/fecha_pago_prima/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;fecha_pago_prima&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;fecha_pago_prima\&quot;,\&quot;answerType\&quot;:\&quot;DATE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="fecha_pago_prima"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_10.link" sourceRef="eval_28.SF_45.Sf_8.fRhpo" targetRef="eval_28.SF_45.Sf_10.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_10.fSbep" name="fecha_pago_prima: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_12.link" sourceRef="eval_28.SF_45.Sf_10.fSbep" targetRef="eval_28.SF_45.Sf_12.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_12.fSbep" name="fecha_pago_prima: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/fecha_pago_prima/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_14.link" sourceRef="eval_28.SF_45.Sf_12.fSbep" targetRef="eval_28.SF_45.Sf_14.fCrto"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_14.fCrto" name="fecha_pago_prima: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_16.link" sourceRef="eval_28.SF_45.Sf_14.fCrto" targetRef="eval_28.SF_45.Sf_16.fFE"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_16.fFE" name="fecha_pago_prima: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/fecha_pago_prima/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;fecha_pago_prima&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_18.link" sourceRef="eval_28.SF_45.Sf_16.fFE" targetRef="eval_28.SF_45.Sf_18.fRS"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_18.fRS" name="fecha_pago_prima: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/fecha_pago_prima/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_20.link" sourceRef="eval_28.SF_45.Sf_18.fRS" targetRef="eval_28.SF_45.Sf_20.fSF"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_20.fSF" name="fecha_pago_prima: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.link" sourceRef="eval_28.SF_45.Sf_20.fSF" targetRef="eval_28.SF_45.Sf_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_45.Sf_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_2.link" sourceRef="eval_28.SF_45.Sf_22.FTE_1.split" targetRef="eval_28.SF_45.Sf_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_45.Sf_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_45.Sf_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_2.fAF"></sequenceFlow>
        <userTask id="eval_28.SF_45.Sf_22.FTE_2.FEPF_2.fAF" name="fecha_pago_prima:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_2.fAF" targetRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_4.fT"></sequenceFlow>
        <userTask id="eval_28.SF_45.Sf_22.FTE_2.FEPF_4.fT" name="fecha_pago_prima: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_4.fT" targetRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_6.fC"></sequenceFlow>
        <userTask id="eval_28.SF_45.Sf_22.FTE_2.FEPF_6.fC" name="fecha_pago_prima(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_6.fC" targetRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_8.fAR"></sequenceFlow>
        <userTask id="eval_28.SF_45.Sf_22.FTE_2.FEPF_8.fAR" name="fecha_pago_prima: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="fecha_pago_prima"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_8.fAR" targetRef="eval_28.SF_45.Sf_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_45.Sf_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_4.link" sourceRef="eval_28.SF_45.Sf_22.FTE_2.FEPF" targetRef="eval_28.SF_45.Sf_22.FTE_4.fCOS"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_4.fCOS" name="fecha_pago_prima: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_6.link" sourceRef="eval_28.SF_45.Sf_22.FTE_4.fCOS" targetRef="eval_28.SF_45.Sf_22.FTE_6.fSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_6.fSSTT" name="fecha_pago_prima: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_8.link" sourceRef="eval_28.SF_45.Sf_22.FTE_6.fSSTT" targetRef="eval_28.SF_45.Sf_22.FTE_8.fAACF"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_8.fAACF" name="fecha_pago_prima: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_10.link" sourceRef="eval_28.SF_45.Sf_22.FTE_8.fAACF" targetRef="eval_28.SF_45.Sf_22.FTE_10.fT"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_10.fT" name="fecha_pago_prima: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_12.link" sourceRef="eval_28.SF_45.Sf_22.FTE_10.fT" targetRef="eval_28.SF_45.Sf_22.FTE_12.f"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_12.f" name="fecha_pago_prima:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_14.link" sourceRef="eval_28.SF_45.Sf_22.FTE_12.f" targetRef="eval_28.SF_45.Sf_22.FTE_14.fPC"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_14.fPC" name="fecha_pago_prima:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_16.link" sourceRef="eval_28.SF_45.Sf_22.FTE_14.fPC" targetRef="eval_28.SF_45.Sf_22.FTE_16.fPmi"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_22.FTE_16.fPmi" name="fecha_pago_prima: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_22.FTE_18.link" sourceRef="eval_28.SF_45.Sf_22.FTE_16.fPmi" targetRef="eval_28.SF_45.Sf_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_45.Sf_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_45.Sf_24.link" sourceRef="eval_28.SF_45.Sf_22.FTE_18.join" targetRef="eval_28.SF_45.Sf_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_45.Sf_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_45.Sf_26.link" sourceRef="eval_28.SF_45.Sf_24.Cat" targetRef="eval_28.SF_45.Sf_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_45.Sf_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_45.Sf_28.link" sourceRef="eval_28.SF_45.Sf_24.Cat" targetRef="eval_28.SF_45.Sf_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_45.Sf_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_47.link" sourceRef="eval_28.SF_45.Sf" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_48.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_48.Sf"></sequenceFlow>
    <subProcess id="eval_28.SF_48.Sf" name="SubModel fecha_inicio">
      <startEvent id="eval_28.SF_48.Sf_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_48.Sf_2.link" sourceRef="eval_28.SF_48.Sf_1.start" targetRef="eval_28.SF_48.Sf_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="fecha_inicio"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_4.link" sourceRef="eval_28.SF_48.Sf_2.Cts" targetRef="eval_28.SF_48.Sf_4.fCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_4.fCS" name="fecha_inicio: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_inicio"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/fecha_inicio/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_6.link" sourceRef="eval_28.SF_48.Sf_4.fCS" targetRef="eval_28.SF_48.Sf_6.fCS"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_6.fCS" name="fecha_inicio: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_inicio"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/fecha_inicio/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_8.link" sourceRef="eval_28.SF_48.Sf_6.fCS" targetRef="eval_28.SF_48.Sf_8.fRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_8.fRhpo" name="fecha_inicio: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/fecha_inicio/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/fecha_inicio/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;fecha_inicio&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;fecha_inicio\&quot;,\&quot;answerType\&quot;:\&quot;DATE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="fecha_inicio"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_10.link" sourceRef="eval_28.SF_48.Sf_8.fRhpo" targetRef="eval_28.SF_48.Sf_10.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_10.fSbep" name="fecha_inicio: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_12.link" sourceRef="eval_28.SF_48.Sf_10.fSbep" targetRef="eval_28.SF_48.Sf_12.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_12.fSbep" name="fecha_inicio: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/fecha_inicio/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_14.link" sourceRef="eval_28.SF_48.Sf_12.fSbep" targetRef="eval_28.SF_48.Sf_14.fCrto"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_14.fCrto" name="fecha_inicio: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_16.link" sourceRef="eval_28.SF_48.Sf_14.fCrto" targetRef="eval_28.SF_48.Sf_16.fFE"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_16.fFE" name="fecha_inicio: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/fecha_inicio/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;fecha_inicio&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_18.link" sourceRef="eval_28.SF_48.Sf_16.fFE" targetRef="eval_28.SF_48.Sf_18.fRS"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_18.fRS" name="fecha_inicio: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/fecha_inicio/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_20.link" sourceRef="eval_28.SF_48.Sf_18.fRS" targetRef="eval_28.SF_48.Sf_20.fSF"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_20.fSF" name="fecha_inicio: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.link" sourceRef="eval_28.SF_48.Sf_20.fSF" targetRef="eval_28.SF_48.Sf_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_48.Sf_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_2.link" sourceRef="eval_28.SF_48.Sf_22.FTE_1.split" targetRef="eval_28.SF_48.Sf_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_48.Sf_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_48.Sf_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_2.fAF"></sequenceFlow>
        <userTask id="eval_28.SF_48.Sf_22.FTE_2.FEPF_2.fAF" name="fecha_inicio:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_2.fAF" targetRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_4.fT"></sequenceFlow>
        <userTask id="eval_28.SF_48.Sf_22.FTE_2.FEPF_4.fT" name="fecha_inicio: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_4.fT" targetRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_6.fC"></sequenceFlow>
        <userTask id="eval_28.SF_48.Sf_22.FTE_2.FEPF_6.fC" name="fecha_inicio(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_6.fC" targetRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_8.fAR"></sequenceFlow>
        <userTask id="eval_28.SF_48.Sf_22.FTE_2.FEPF_8.fAR" name="fecha_inicio: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="fecha_inicio"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_8.fAR" targetRef="eval_28.SF_48.Sf_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_48.Sf_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_4.link" sourceRef="eval_28.SF_48.Sf_22.FTE_2.FEPF" targetRef="eval_28.SF_48.Sf_22.FTE_4.fCOS"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_4.fCOS" name="fecha_inicio: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_6.link" sourceRef="eval_28.SF_48.Sf_22.FTE_4.fCOS" targetRef="eval_28.SF_48.Sf_22.FTE_6.fSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_6.fSSTT" name="fecha_inicio: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_8.link" sourceRef="eval_28.SF_48.Sf_22.FTE_6.fSSTT" targetRef="eval_28.SF_48.Sf_22.FTE_8.fAACF"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_8.fAACF" name="fecha_inicio: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_10.link" sourceRef="eval_28.SF_48.Sf_22.FTE_8.fAACF" targetRef="eval_28.SF_48.Sf_22.FTE_10.fT"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_10.fT" name="fecha_inicio: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_12.link" sourceRef="eval_28.SF_48.Sf_22.FTE_10.fT" targetRef="eval_28.SF_48.Sf_22.FTE_12.f"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_12.f" name="fecha_inicio:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_14.link" sourceRef="eval_28.SF_48.Sf_22.FTE_12.f" targetRef="eval_28.SF_48.Sf_22.FTE_14.fPC"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_14.fPC" name="fecha_inicio:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_16.link" sourceRef="eval_28.SF_48.Sf_22.FTE_14.fPC" targetRef="eval_28.SF_48.Sf_22.FTE_16.fPmi"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_22.FTE_16.fPmi" name="fecha_inicio: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_22.FTE_18.link" sourceRef="eval_28.SF_48.Sf_22.FTE_16.fPmi" targetRef="eval_28.SF_48.Sf_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_48.Sf_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_48.Sf_24.link" sourceRef="eval_28.SF_48.Sf_22.FTE_18.join" targetRef="eval_28.SF_48.Sf_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_48.Sf_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_48.Sf_26.link" sourceRef="eval_28.SF_48.Sf_24.Cat" targetRef="eval_28.SF_48.Sf_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_48.Sf_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_48.Sf_28.link" sourceRef="eval_28.SF_48.Sf_24.Cat" targetRef="eval_28.SF_48.Sf_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_48.Sf_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_50.link" sourceRef="eval_28.SF_48.Sf" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_51.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_51.Sf"></sequenceFlow>
    <subProcess id="eval_28.SF_51.Sf" name="SubModel fecha_vencimiento">
      <startEvent id="eval_28.SF_51.Sf_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_51.Sf_2.link" sourceRef="eval_28.SF_51.Sf_1.start" targetRef="eval_28.SF_51.Sf_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="fecha_vencimiento"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_4.link" sourceRef="eval_28.SF_51.Sf_2.Cts" targetRef="eval_28.SF_51.Sf_4.fCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_4.fCS" name="fecha_vencimiento: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_vencimiento"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/fecha_vencimiento/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_6.link" sourceRef="eval_28.SF_51.Sf_4.fCS" targetRef="eval_28.SF_51.Sf_6.fCS"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_6.fCS" name="fecha_vencimiento: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_vencimiento"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/fecha_vencimiento/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_8.link" sourceRef="eval_28.SF_51.Sf_6.fCS" targetRef="eval_28.SF_51.Sf_8.fRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_8.fRhpo" name="fecha_vencimiento: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/fecha_vencimiento/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/fecha_vencimiento/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;fecha_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;fecha_vencimiento\&quot;,\&quot;answerType\&quot;:\&quot;DATE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="fecha_vencimiento"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_10.link" sourceRef="eval_28.SF_51.Sf_8.fRhpo" targetRef="eval_28.SF_51.Sf_10.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_10.fSbep" name="fecha_vencimiento: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_12.link" sourceRef="eval_28.SF_51.Sf_10.fSbep" targetRef="eval_28.SF_51.Sf_12.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_12.fSbep" name="fecha_vencimiento: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/fecha_vencimiento/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_14.link" sourceRef="eval_28.SF_51.Sf_12.fSbep" targetRef="eval_28.SF_51.Sf_14.fCrto"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_14.fCrto" name="fecha_vencimiento: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_16.link" sourceRef="eval_28.SF_51.Sf_14.fCrto" targetRef="eval_28.SF_51.Sf_16.fFE"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_16.fFE" name="fecha_vencimiento: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/fecha_vencimiento/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;fecha_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_18.link" sourceRef="eval_28.SF_51.Sf_16.fFE" targetRef="eval_28.SF_51.Sf_18.fRS"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_18.fRS" name="fecha_vencimiento: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/fecha_vencimiento/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_20.link" sourceRef="eval_28.SF_51.Sf_18.fRS" targetRef="eval_28.SF_51.Sf_20.fSF"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_20.fSF" name="fecha_vencimiento: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.link" sourceRef="eval_28.SF_51.Sf_20.fSF" targetRef="eval_28.SF_51.Sf_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_51.Sf_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_2.link" sourceRef="eval_28.SF_51.Sf_22.FTE_1.split" targetRef="eval_28.SF_51.Sf_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_51.Sf_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_51.Sf_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_2.fAF"></sequenceFlow>
        <userTask id="eval_28.SF_51.Sf_22.FTE_2.FEPF_2.fAF" name="fecha_vencimiento:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_2.fAF" targetRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_4.fT"></sequenceFlow>
        <userTask id="eval_28.SF_51.Sf_22.FTE_2.FEPF_4.fT" name="fecha_vencimiento: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_4.fT" targetRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_6.fC"></sequenceFlow>
        <userTask id="eval_28.SF_51.Sf_22.FTE_2.FEPF_6.fC" name="fecha_vencimiento(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_6.fC" targetRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_8.fAR"></sequenceFlow>
        <userTask id="eval_28.SF_51.Sf_22.FTE_2.FEPF_8.fAR" name="fecha_vencimiento: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="fecha_vencimiento"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_8.fAR" targetRef="eval_28.SF_51.Sf_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_51.Sf_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_4.link" sourceRef="eval_28.SF_51.Sf_22.FTE_2.FEPF" targetRef="eval_28.SF_51.Sf_22.FTE_4.fCOS"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_4.fCOS" name="fecha_vencimiento: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_6.link" sourceRef="eval_28.SF_51.Sf_22.FTE_4.fCOS" targetRef="eval_28.SF_51.Sf_22.FTE_6.fSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_6.fSSTT" name="fecha_vencimiento: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_8.link" sourceRef="eval_28.SF_51.Sf_22.FTE_6.fSSTT" targetRef="eval_28.SF_51.Sf_22.FTE_8.fAACF"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_8.fAACF" name="fecha_vencimiento: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_10.link" sourceRef="eval_28.SF_51.Sf_22.FTE_8.fAACF" targetRef="eval_28.SF_51.Sf_22.FTE_10.fT"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_10.fT" name="fecha_vencimiento: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_12.link" sourceRef="eval_28.SF_51.Sf_22.FTE_10.fT" targetRef="eval_28.SF_51.Sf_22.FTE_12.f"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_12.f" name="fecha_vencimiento:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_14.link" sourceRef="eval_28.SF_51.Sf_22.FTE_12.f" targetRef="eval_28.SF_51.Sf_22.FTE_14.fPC"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_14.fPC" name="fecha_vencimiento:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_16.link" sourceRef="eval_28.SF_51.Sf_22.FTE_14.fPC" targetRef="eval_28.SF_51.Sf_22.FTE_16.fPmi"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_22.FTE_16.fPmi" name="fecha_vencimiento: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_22.FTE_18.link" sourceRef="eval_28.SF_51.Sf_22.FTE_16.fPmi" targetRef="eval_28.SF_51.Sf_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_51.Sf_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_51.Sf_24.link" sourceRef="eval_28.SF_51.Sf_22.FTE_18.join" targetRef="eval_28.SF_51.Sf_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_51.Sf_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_51.Sf_26.link" sourceRef="eval_28.SF_51.Sf_24.Cat" targetRef="eval_28.SF_51.Sf_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_51.Sf_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_51.Sf_28.link" sourceRef="eval_28.SF_51.Sf_24.Cat" targetRef="eval_28.SF_51.Sf_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_51.Sf_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_53.link" sourceRef="eval_28.SF_51.Sf" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_54.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_54.Sf"></sequenceFlow>
    <subProcess id="eval_28.SF_54.Sf" name="SubModel fecha_pago_vencimiento">
      <startEvent id="eval_28.SF_54.Sf_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_54.Sf_2.link" sourceRef="eval_28.SF_54.Sf_1.start" targetRef="eval_28.SF_54.Sf_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="fecha_pago_vencimiento"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_4.link" sourceRef="eval_28.SF_54.Sf_2.Cts" targetRef="eval_28.SF_54.Sf_4.fCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_4.fCS" name="fecha_pago_vencimiento: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_pago_vencimiento"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/fecha_pago_vencimiento/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_6.link" sourceRef="eval_28.SF_54.Sf_4.fCS" targetRef="eval_28.SF_54.Sf_6.fCS"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_6.fCS" name="fecha_pago_vencimiento: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/fecha_pago_vencimiento"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/fecha_pago_vencimiento/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_8.link" sourceRef="eval_28.SF_54.Sf_6.fCS" targetRef="eval_28.SF_54.Sf_8.fRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_8.fRhpo" name="fecha_pago_vencimiento: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/fecha_pago_vencimiento/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/fecha_pago_vencimiento/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;fecha_pago_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;fecha_pago_vencimiento\&quot;,\&quot;answerType\&quot;:\&quot;DATE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="fecha_pago_vencimiento"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_10.link" sourceRef="eval_28.SF_54.Sf_8.fRhpo" targetRef="eval_28.SF_54.Sf_10.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_10.fSbep" name="fecha_pago_vencimiento: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_12.link" sourceRef="eval_28.SF_54.Sf_10.fSbep" targetRef="eval_28.SF_54.Sf_12.fSbep"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_12.fSbep" name="fecha_pago_vencimiento: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/fecha_pago_vencimiento/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_14.link" sourceRef="eval_28.SF_54.Sf_12.fSbep" targetRef="eval_28.SF_54.Sf_14.fCrto"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_14.fCrto" name="fecha_pago_vencimiento: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_16.link" sourceRef="eval_28.SF_54.Sf_14.fCrto" targetRef="eval_28.SF_54.Sf_16.fFE"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_16.fFE" name="fecha_pago_vencimiento: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/fecha_pago_vencimiento/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;fecha_pago_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_18.link" sourceRef="eval_28.SF_54.Sf_16.fFE" targetRef="eval_28.SF_54.Sf_18.fRS"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_18.fRS" name="fecha_pago_vencimiento: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/fecha_pago_vencimiento/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_20.link" sourceRef="eval_28.SF_54.Sf_18.fRS" targetRef="eval_28.SF_54.Sf_20.fSF"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_20.fSF" name="fecha_pago_vencimiento: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.link" sourceRef="eval_28.SF_54.Sf_20.fSF" targetRef="eval_28.SF_54.Sf_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_54.Sf_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_2.link" sourceRef="eval_28.SF_54.Sf_22.FTE_1.split" targetRef="eval_28.SF_54.Sf_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_54.Sf_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_54.Sf_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_2.fAF"></sequenceFlow>
        <userTask id="eval_28.SF_54.Sf_22.FTE_2.FEPF_2.fAF" name="fecha_pago_vencimiento:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_2.fAF" targetRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_4.fT"></sequenceFlow>
        <userTask id="eval_28.SF_54.Sf_22.FTE_2.FEPF_4.fT" name="fecha_pago_vencimiento: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_4.fT" targetRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_6.fC"></sequenceFlow>
        <userTask id="eval_28.SF_54.Sf_22.FTE_2.FEPF_6.fC" name="fecha_pago_vencimiento(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_6.fC" targetRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_8.fAR"></sequenceFlow>
        <userTask id="eval_28.SF_54.Sf_22.FTE_2.FEPF_8.fAR" name="fecha_pago_vencimiento: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="fecha_pago_vencimiento"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_8.fAR" targetRef="eval_28.SF_54.Sf_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_54.Sf_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_4.link" sourceRef="eval_28.SF_54.Sf_22.FTE_2.FEPF" targetRef="eval_28.SF_54.Sf_22.FTE_4.fCOS"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_4.fCOS" name="fecha_pago_vencimiento: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_6.link" sourceRef="eval_28.SF_54.Sf_22.FTE_4.fCOS" targetRef="eval_28.SF_54.Sf_22.FTE_6.fSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_6.fSSTT" name="fecha_pago_vencimiento: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_8.link" sourceRef="eval_28.SF_54.Sf_22.FTE_6.fSSTT" targetRef="eval_28.SF_54.Sf_22.FTE_8.fAACF"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_8.fAACF" name="fecha_pago_vencimiento: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_10.link" sourceRef="eval_28.SF_54.Sf_22.FTE_8.fAACF" targetRef="eval_28.SF_54.Sf_22.FTE_10.fT"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_10.fT" name="fecha_pago_vencimiento: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_12.link" sourceRef="eval_28.SF_54.Sf_22.FTE_10.fT" targetRef="eval_28.SF_54.Sf_22.FTE_12.f"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_12.f" name="fecha_pago_vencimiento:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_14.link" sourceRef="eval_28.SF_54.Sf_22.FTE_12.f" targetRef="eval_28.SF_54.Sf_22.FTE_14.fPC"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_14.fPC" name="fecha_pago_vencimiento:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_16.link" sourceRef="eval_28.SF_54.Sf_22.FTE_14.fPC" targetRef="eval_28.SF_54.Sf_22.FTE_16.fPmi"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_22.FTE_16.fPmi" name="fecha_pago_vencimiento: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_22.FTE_18.link" sourceRef="eval_28.SF_54.Sf_22.FTE_16.fPmi" targetRef="eval_28.SF_54.Sf_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_54.Sf_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_54.Sf_24.link" sourceRef="eval_28.SF_54.Sf_22.FTE_18.join" targetRef="eval_28.SF_54.Sf_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_54.Sf_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_54.Sf_26.link" sourceRef="eval_28.SF_54.Sf_24.Cat" targetRef="eval_28.SF_54.Sf_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_54.Sf_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_54.Sf_28.link" sourceRef="eval_28.SF_54.Sf_24.Cat" targetRef="eval_28.SF_54.Sf_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_54.Sf_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_56.link" sourceRef="eval_28.SF_54.Sf" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_57.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_57.Su"></sequenceFlow>
    <subProcess id="eval_28.SF_57.Su" name="SubModel uti_usi">
      <startEvent id="eval_28.SF_57.Su_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_57.Su_2.link" sourceRef="eval_28.SF_57.Su_1.start" targetRef="eval_28.SF_57.Su_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="uti_usi"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_4.link" sourceRef="eval_28.SF_57.Su_2.Cts" targetRef="eval_28.SF_57.Su_4.uCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_57.Su_4.uCS" name="uti_usi: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/uti_usi"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/uti_usi/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_6.link" sourceRef="eval_28.SF_57.Su_4.uCS" targetRef="eval_28.SF_57.Su_6.uCS"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_6.uCS" name="uti_usi: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/uti_usi"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/uti_usi/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_8.link" sourceRef="eval_28.SF_57.Su_6.uCS" targetRef="eval_28.SF_57.Su_8.uRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_8.uRhpo" name="uti_usi: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/uti_usi/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/uti_usi/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;uti_usi&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;uti_usi\&quot;,\&quot;answerType\&quot;:\&quot;FREE_TEXT\&quot;,\&quot;required\&quot;:false,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="uti_usi"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_10.link" sourceRef="eval_28.SF_57.Su_8.uRhpo" targetRef="eval_28.SF_57.Su_10.uSbep"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_10.uSbep" name="uti_usi: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_12.link" sourceRef="eval_28.SF_57.Su_10.uSbep" targetRef="eval_28.SF_57.Su_12.uSbep"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_12.uSbep" name="uti_usi: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/uti_usi/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_14.link" sourceRef="eval_28.SF_57.Su_12.uSbep" targetRef="eval_28.SF_57.Su_14.uCrto"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_14.uCrto" name="uti_usi: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_16.link" sourceRef="eval_28.SF_57.Su_14.uCrto" targetRef="eval_28.SF_57.Su_16.uFE"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_16.uFE" name="uti_usi: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/uti_usi/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;uti_usi&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;required&quot;:false,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_18.link" sourceRef="eval_28.SF_57.Su_16.uFE" targetRef="eval_28.SF_57.Su_18.uRS"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_18.uRS" name="uti_usi: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/uti_usi/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_20.link" sourceRef="eval_28.SF_57.Su_18.uRS" targetRef="eval_28.SF_57.Su_20.uSF"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_20.uSF" name="uti_usi: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.link" sourceRef="eval_28.SF_57.Su_20.uSF" targetRef="eval_28.SF_57.Su_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_57.Su_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_2.link" sourceRef="eval_28.SF_57.Su_22.FTE_1.split" targetRef="eval_28.SF_57.Su_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_57.Su_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_57.Su_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_57.Su_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_57.Su_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_57.Su_22.FTE_2.FEPF_2.uAF"></sequenceFlow>
        <userTask id="eval_28.SF_57.Su_22.FTE_2.FEPF_2.uAF" name="uti_usi:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_57.Su_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_57.Su_22.FTE_2.FEPF_2.uAF" targetRef="eval_28.SF_57.Su_22.FTE_2.FEPF_4.uT"></sequenceFlow>
        <userTask id="eval_28.SF_57.Su_22.FTE_2.FEPF_4.uT" name="uti_usi: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_57.Su_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_57.Su_22.FTE_2.FEPF_4.uT" targetRef="eval_28.SF_57.Su_22.FTE_2.FEPF_6.uC"></sequenceFlow>
        <userTask id="eval_28.SF_57.Su_22.FTE_2.FEPF_6.uC" name="uti_usi(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_57.Su_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_57.Su_22.FTE_2.FEPF_6.uC" targetRef="eval_28.SF_57.Su_22.FTE_2.FEPF_8.uAR"></sequenceFlow>
        <userTask id="eval_28.SF_57.Su_22.FTE_2.FEPF_8.uAR" name="uti_usi: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="uti_usi"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_57.Su_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_57.Su_22.FTE_2.FEPF_8.uAR" targetRef="eval_28.SF_57.Su_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_57.Su_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_4.link" sourceRef="eval_28.SF_57.Su_22.FTE_2.FEPF" targetRef="eval_28.SF_57.Su_22.FTE_4.uCOS"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_4.uCOS" name="uti_usi: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_6.link" sourceRef="eval_28.SF_57.Su_22.FTE_4.uCOS" targetRef="eval_28.SF_57.Su_22.FTE_6.uSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_6.uSSTT" name="uti_usi: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_8.link" sourceRef="eval_28.SF_57.Su_22.FTE_6.uSSTT" targetRef="eval_28.SF_57.Su_22.FTE_8.uAACF"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_8.uAACF" name="uti_usi: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_10.link" sourceRef="eval_28.SF_57.Su_22.FTE_8.uAACF" targetRef="eval_28.SF_57.Su_22.FTE_10.uT"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_10.uT" name="uti_usi: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_12.link" sourceRef="eval_28.SF_57.Su_22.FTE_10.uT" targetRef="eval_28.SF_57.Su_22.FTE_12.u"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_12.u" name="uti_usi:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_14.link" sourceRef="eval_28.SF_57.Su_22.FTE_12.u" targetRef="eval_28.SF_57.Su_22.FTE_14.uPC"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_14.uPC" name="uti_usi:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_16.link" sourceRef="eval_28.SF_57.Su_22.FTE_14.uPC" targetRef="eval_28.SF_57.Su_22.FTE_16.uPmi"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_22.FTE_16.uPmi" name="uti_usi: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_22.FTE_18.link" sourceRef="eval_28.SF_57.Su_22.FTE_16.uPmi" targetRef="eval_28.SF_57.Su_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_57.Su_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_57.Su_24.link" sourceRef="eval_28.SF_57.Su_22.FTE_18.join" targetRef="eval_28.SF_57.Su_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_57.Su_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_57.Su_26.link" sourceRef="eval_28.SF_57.Su_24.Cat" targetRef="eval_28.SF_57.Su_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_57.Su_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_57.Su_28.link" sourceRef="eval_28.SF_57.Su_24.Cat" targetRef="eval_28.SF_57.Su_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_57.Su_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_59.link" sourceRef="eval_28.SF_57.Su" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_60.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_60.Sc"></sequenceFlow>
    <subProcess id="eval_28.SF_60.Sc" name="SubModel cash_delivery">
      <startEvent id="eval_28.SF_60.Sc_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_60.Sc_2.link" sourceRef="eval_28.SF_60.Sc_1.start" targetRef="eval_28.SF_60.Sc_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="cash_delivery"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_4.link" sourceRef="eval_28.SF_60.Sc_2.Cts" targetRef="eval_28.SF_60.Sc_4.cCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_4.cCS" name="cash_delivery: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/cash_delivery"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/cash_delivery/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_6.link" sourceRef="eval_28.SF_60.Sc_4.cCS" targetRef="eval_28.SF_60.Sc_6.cCS"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_6.cCS" name="cash_delivery: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/cash_delivery"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/cash_delivery/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_8.link" sourceRef="eval_28.SF_60.Sc_6.cCS" targetRef="eval_28.SF_60.Sc_8.cRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_8.cRhpo" name="cash_delivery: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/cash_delivery/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/cash_delivery/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;cash_delivery&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;cash_delivery\&quot;,\&quot;answerType\&quot;:\&quot;CHECK_ONE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="cash_delivery"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_10.link" sourceRef="eval_28.SF_60.Sc_8.cRhpo" targetRef="eval_28.SF_60.Sc_10.cSbep"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_10.cSbep" name="cash_delivery: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_12.link" sourceRef="eval_28.SF_60.Sc_10.cSbep" targetRef="eval_28.SF_60.Sc_12.cSbep"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_12.cSbep" name="cash_delivery: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/cash_delivery/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_14.link" sourceRef="eval_28.SF_60.Sc_12.cSbep" targetRef="eval_28.SF_60.Sc_14.cCrto"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_14.cCrto" name="cash_delivery: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_16.link" sourceRef="eval_28.SF_60.Sc_14.cCrto" targetRef="eval_28.SF_60.Sc_16.cFE"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_16.cFE" name="cash_delivery: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/cash_delivery/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;cash_delivery&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_18.link" sourceRef="eval_28.SF_60.Sc_16.cFE" targetRef="eval_28.SF_60.Sc_18.cRS"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_18.cRS" name="cash_delivery: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/cash_delivery/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_20.link" sourceRef="eval_28.SF_60.Sc_18.cRS" targetRef="eval_28.SF_60.Sc_20.cSF"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_20.cSF" name="cash_delivery: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.link" sourceRef="eval_28.SF_60.Sc_20.cSF" targetRef="eval_28.SF_60.Sc_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_60.Sc_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_2.link" sourceRef="eval_28.SF_60.Sc_22.FTE_1.split" targetRef="eval_28.SF_60.Sc_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_60.Sc_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_60.Sc_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_2.cAF"></sequenceFlow>
        <userTask id="eval_28.SF_60.Sc_22.FTE_2.FEPF_2.cAF" name="cash_delivery:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_2.cAF" targetRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_4.cT"></sequenceFlow>
        <userTask id="eval_28.SF_60.Sc_22.FTE_2.FEPF_4.cT" name="cash_delivery: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_4.cT" targetRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_6.cC"></sequenceFlow>
        <userTask id="eval_28.SF_60.Sc_22.FTE_2.FEPF_6.cC" name="cash_delivery(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_6.cC" targetRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_8.cAR"></sequenceFlow>
        <userTask id="eval_28.SF_60.Sc_22.FTE_2.FEPF_8.cAR" name="cash_delivery: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="cash_delivery"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_8.cAR" targetRef="eval_28.SF_60.Sc_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_60.Sc_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_4.link" sourceRef="eval_28.SF_60.Sc_22.FTE_2.FEPF" targetRef="eval_28.SF_60.Sc_22.FTE_4.cCOS"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_4.cCOS" name="cash_delivery: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_6.link" sourceRef="eval_28.SF_60.Sc_22.FTE_4.cCOS" targetRef="eval_28.SF_60.Sc_22.FTE_6.cSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_6.cSSTT" name="cash_delivery: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_8.link" sourceRef="eval_28.SF_60.Sc_22.FTE_6.cSSTT" targetRef="eval_28.SF_60.Sc_22.FTE_8.cAACF"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_8.cAACF" name="cash_delivery: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_10.link" sourceRef="eval_28.SF_60.Sc_22.FTE_8.cAACF" targetRef="eval_28.SF_60.Sc_22.FTE_10.cT"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_10.cT" name="cash_delivery: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_12.link" sourceRef="eval_28.SF_60.Sc_22.FTE_10.cT" targetRef="eval_28.SF_60.Sc_22.FTE_12.c"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_12.c" name="cash_delivery:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_14.link" sourceRef="eval_28.SF_60.Sc_22.FTE_12.c" targetRef="eval_28.SF_60.Sc_22.FTE_14.cPC"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_14.cPC" name="cash_delivery:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_16.link" sourceRef="eval_28.SF_60.Sc_22.FTE_14.cPC" targetRef="eval_28.SF_60.Sc_22.FTE_16.cPmi"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_22.FTE_16.cPmi" name="cash_delivery: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_22.FTE_18.link" sourceRef="eval_28.SF_60.Sc_22.FTE_16.cPmi" targetRef="eval_28.SF_60.Sc_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_60.Sc_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_60.Sc_24.link" sourceRef="eval_28.SF_60.Sc_22.FTE_18.join" targetRef="eval_28.SF_60.Sc_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_60.Sc_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_60.Sc_26.link" sourceRef="eval_28.SF_60.Sc_24.Cat" targetRef="eval_28.SF_60.Sc_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_60.Sc_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_60.Sc_28.link" sourceRef="eval_28.SF_60.Sc_24.Cat" targetRef="eval_28.SF_60.Sc_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_60.Sc_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_62.link" sourceRef="eval_28.SF_60.Sc" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_63.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_63.Sb"></sequenceFlow>
    <subProcess id="eval_28.SF_63.Sb" name="SubModel barrier">
      <startEvent id="eval_28.SF_63.Sb_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_63.Sb_2.link" sourceRef="eval_28.SF_63.Sb_1.start" targetRef="eval_28.SF_63.Sb_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="barrier"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_4.link" sourceRef="eval_28.SF_63.Sb_2.Cts" targetRef="eval_28.SF_63.Sb_4.bCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_4.bCS" name="barrier: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/barrier"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/barrier/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_6.link" sourceRef="eval_28.SF_63.Sb_4.bCS" targetRef="eval_28.SF_63.Sb_6.bCS"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_6.bCS" name="barrier: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/barrier"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/barrier/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_8.link" sourceRef="eval_28.SF_63.Sb_6.bCS" targetRef="eval_28.SF_63.Sb_8.bRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_8.bRhpo" name="barrier: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/barrier/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/barrier/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;barrier&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;barrier\&quot;,\&quot;answerType\&quot;:\&quot;NUMBER\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="barrier"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_10.link" sourceRef="eval_28.SF_63.Sb_8.bRhpo" targetRef="eval_28.SF_63.Sb_10.bSbep"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_10.bSbep" name="barrier: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_12.link" sourceRef="eval_28.SF_63.Sb_10.bSbep" targetRef="eval_28.SF_63.Sb_12.bSbep"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_12.bSbep" name="barrier: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/barrier/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_14.link" sourceRef="eval_28.SF_63.Sb_12.bSbep" targetRef="eval_28.SF_63.Sb_14.bCrto"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_14.bCrto" name="barrier: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_16.link" sourceRef="eval_28.SF_63.Sb_14.bCrto" targetRef="eval_28.SF_63.Sb_16.bFE"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_16.bFE" name="barrier: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/barrier/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;barrier&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_18.link" sourceRef="eval_28.SF_63.Sb_16.bFE" targetRef="eval_28.SF_63.Sb_18.bRS"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_18.bRS" name="barrier: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/barrier/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_20.link" sourceRef="eval_28.SF_63.Sb_18.bRS" targetRef="eval_28.SF_63.Sb_20.bSF"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_20.bSF" name="barrier: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.link" sourceRef="eval_28.SF_63.Sb_20.bSF" targetRef="eval_28.SF_63.Sb_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_63.Sb_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_2.link" sourceRef="eval_28.SF_63.Sb_22.FTE_1.split" targetRef="eval_28.SF_63.Sb_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_63.Sb_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_63.Sb_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_2.bAF"></sequenceFlow>
        <userTask id="eval_28.SF_63.Sb_22.FTE_2.FEPF_2.bAF" name="barrier:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_2.bAF" targetRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_4.bT"></sequenceFlow>
        <userTask id="eval_28.SF_63.Sb_22.FTE_2.FEPF_4.bT" name="barrier: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_4.bT" targetRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_6.bC"></sequenceFlow>
        <userTask id="eval_28.SF_63.Sb_22.FTE_2.FEPF_6.bC" name="barrier(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_6.bC" targetRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_8.bAR"></sequenceFlow>
        <userTask id="eval_28.SF_63.Sb_22.FTE_2.FEPF_8.bAR" name="barrier: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="barrier"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_8.bAR" targetRef="eval_28.SF_63.Sb_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_63.Sb_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_4.link" sourceRef="eval_28.SF_63.Sb_22.FTE_2.FEPF" targetRef="eval_28.SF_63.Sb_22.FTE_4.bCOS"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_4.bCOS" name="barrier: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_6.link" sourceRef="eval_28.SF_63.Sb_22.FTE_4.bCOS" targetRef="eval_28.SF_63.Sb_22.FTE_6.bSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_6.bSSTT" name="barrier: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_8.link" sourceRef="eval_28.SF_63.Sb_22.FTE_6.bSSTT" targetRef="eval_28.SF_63.Sb_22.FTE_8.bAACF"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_8.bAACF" name="barrier: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_10.link" sourceRef="eval_28.SF_63.Sb_22.FTE_8.bAACF" targetRef="eval_28.SF_63.Sb_22.FTE_10.bT"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_10.bT" name="barrier: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_12.link" sourceRef="eval_28.SF_63.Sb_22.FTE_10.bT" targetRef="eval_28.SF_63.Sb_22.FTE_12.b"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_12.b" name="barrier:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_14.link" sourceRef="eval_28.SF_63.Sb_22.FTE_12.b" targetRef="eval_28.SF_63.Sb_22.FTE_14.bPC"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_14.bPC" name="barrier:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_16.link" sourceRef="eval_28.SF_63.Sb_22.FTE_14.bPC" targetRef="eval_28.SF_63.Sb_22.FTE_16.bPmi"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_22.FTE_16.bPmi" name="barrier: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_22.FTE_18.link" sourceRef="eval_28.SF_63.Sb_22.FTE_16.bPmi" targetRef="eval_28.SF_63.Sb_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_63.Sb_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_63.Sb_24.link" sourceRef="eval_28.SF_63.Sb_22.FTE_18.join" targetRef="eval_28.SF_63.Sb_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_63.Sb_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_63.Sb_26.link" sourceRef="eval_28.SF_63.Sb_24.Cat" targetRef="eval_28.SF_63.Sb_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_63.Sb_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_63.Sb_28.link" sourceRef="eval_28.SF_63.Sb_24.Cat" targetRef="eval_28.SF_63.Sb_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_63.Sb_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_65.link" sourceRef="eval_28.SF_63.Sb" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_66.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_66.St"></sequenceFlow>
    <subProcess id="eval_28.SF_66.St" name="SubModel tipo_barrera">
      <startEvent id="eval_28.SF_66.St_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_66.St_2.link" sourceRef="eval_28.SF_66.St_1.start" targetRef="eval_28.SF_66.St_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="tipo_barrera"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_4.link" sourceRef="eval_28.SF_66.St_2.Cts" targetRef="eval_28.SF_66.St_4.tCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_66.St_4.tCS" name="tipo_barrera: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/tipo_barrera"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/tipo_barrera/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_6.link" sourceRef="eval_28.SF_66.St_4.tCS" targetRef="eval_28.SF_66.St_6.tCS"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_6.tCS" name="tipo_barrera: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/tipo_barrera"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/tipo_barrera/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_8.link" sourceRef="eval_28.SF_66.St_6.tCS" targetRef="eval_28.SF_66.St_8.tRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_8.tRhpo" name="tipo_barrera: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/tipo_barrera/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/tipo_barrera/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;tipo_barrera&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;tipo_barrera\&quot;,\&quot;answerType\&quot;:\&quot;CHECK_ONE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="tipo_barrera"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_10.link" sourceRef="eval_28.SF_66.St_8.tRhpo" targetRef="eval_28.SF_66.St_10.tSbep"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_10.tSbep" name="tipo_barrera: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_12.link" sourceRef="eval_28.SF_66.St_10.tSbep" targetRef="eval_28.SF_66.St_12.tSbep"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_12.tSbep" name="tipo_barrera: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/tipo_barrera/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_14.link" sourceRef="eval_28.SF_66.St_12.tSbep" targetRef="eval_28.SF_66.St_14.tCrto"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_14.tCrto" name="tipo_barrera: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_16.link" sourceRef="eval_28.SF_66.St_14.tCrto" targetRef="eval_28.SF_66.St_16.tFE"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_16.tFE" name="tipo_barrera: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/tipo_barrera/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;tipo_barrera&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_18.link" sourceRef="eval_28.SF_66.St_16.tFE" targetRef="eval_28.SF_66.St_18.tRS"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_18.tRS" name="tipo_barrera: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/tipo_barrera/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_20.link" sourceRef="eval_28.SF_66.St_18.tRS" targetRef="eval_28.SF_66.St_20.tSF"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_20.tSF" name="tipo_barrera: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.link" sourceRef="eval_28.SF_66.St_20.tSF" targetRef="eval_28.SF_66.St_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_66.St_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_2.link" sourceRef="eval_28.SF_66.St_22.FTE_1.split" targetRef="eval_28.SF_66.St_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_66.St_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_66.St_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_66.St_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_66.St_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_66.St_22.FTE_2.FEPF_2.tAF"></sequenceFlow>
        <userTask id="eval_28.SF_66.St_22.FTE_2.FEPF_2.tAF" name="tipo_barrera:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_66.St_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_66.St_22.FTE_2.FEPF_2.tAF" targetRef="eval_28.SF_66.St_22.FTE_2.FEPF_4.tT"></sequenceFlow>
        <userTask id="eval_28.SF_66.St_22.FTE_2.FEPF_4.tT" name="tipo_barrera: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_66.St_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_66.St_22.FTE_2.FEPF_4.tT" targetRef="eval_28.SF_66.St_22.FTE_2.FEPF_6.tC"></sequenceFlow>
        <userTask id="eval_28.SF_66.St_22.FTE_2.FEPF_6.tC" name="tipo_barrera(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_66.St_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_66.St_22.FTE_2.FEPF_6.tC" targetRef="eval_28.SF_66.St_22.FTE_2.FEPF_8.tAR"></sequenceFlow>
        <userTask id="eval_28.SF_66.St_22.FTE_2.FEPF_8.tAR" name="tipo_barrera: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="tipo_barrera"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_66.St_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_66.St_22.FTE_2.FEPF_8.tAR" targetRef="eval_28.SF_66.St_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_66.St_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_4.link" sourceRef="eval_28.SF_66.St_22.FTE_2.FEPF" targetRef="eval_28.SF_66.St_22.FTE_4.tCOS"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_4.tCOS" name="tipo_barrera: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_6.link" sourceRef="eval_28.SF_66.St_22.FTE_4.tCOS" targetRef="eval_28.SF_66.St_22.FTE_6.tSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_6.tSSTT" name="tipo_barrera: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_8.link" sourceRef="eval_28.SF_66.St_22.FTE_6.tSSTT" targetRef="eval_28.SF_66.St_22.FTE_8.tAACF"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_8.tAACF" name="tipo_barrera: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_10.link" sourceRef="eval_28.SF_66.St_22.FTE_8.tAACF" targetRef="eval_28.SF_66.St_22.FTE_10.tT"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_10.tT" name="tipo_barrera: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_12.link" sourceRef="eval_28.SF_66.St_22.FTE_10.tT" targetRef="eval_28.SF_66.St_22.FTE_12.t"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_12.t" name="tipo_barrera:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_14.link" sourceRef="eval_28.SF_66.St_22.FTE_12.t" targetRef="eval_28.SF_66.St_22.FTE_14.tPC"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_14.tPC" name="tipo_barrera:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_16.link" sourceRef="eval_28.SF_66.St_22.FTE_14.tPC" targetRef="eval_28.SF_66.St_22.FTE_16.tPmi"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_22.FTE_16.tPmi" name="tipo_barrera: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_22.FTE_18.link" sourceRef="eval_28.SF_66.St_22.FTE_16.tPmi" targetRef="eval_28.SF_66.St_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_66.St_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_66.St_24.link" sourceRef="eval_28.SF_66.St_22.FTE_18.join" targetRef="eval_28.SF_66.St_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_66.St_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_66.St_26.link" sourceRef="eval_28.SF_66.St_24.Cat" targetRef="eval_28.SF_66.St_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_66.St_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_66.St_28.link" sourceRef="eval_28.SF_66.St_24.Cat" targetRef="eval_28.SF_66.St_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_66.St_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_68.link" sourceRef="eval_28.SF_66.St" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_28.SF_69.link" sourceRef="eval_28.SF_1.split" targetRef="eval_28.SF_69.Ss"></sequenceFlow>
    <subProcess id="eval_28.SF_69.Ss" name="SubModel spot_forward">
      <startEvent id="eval_28.SF_69.Ss_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_28.SF_69.Ss_2.link" sourceRef="eval_28.SF_69.Ss_1.start" targetRef="eval_28.SF_69.Ss_2.Cts"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_2.Cts" name="Check training set" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="spot_forward"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_4.link" sourceRef="eval_28.SF_69.Ss_2.Cts" targetRef="eval_28.SF_69.Ss_4.sCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_4.sCS" name="spot_forward: (PE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/spot_forward"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/spot_forward/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_6.link" sourceRef="eval_28.SF_69.Ss_4.sCS" targetRef="eval_28.SF_69.Ss_6.sCS"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_6.sCS" name="spot_forward: (FE) CV Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/spot_forward"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/spot_forward/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_8.link" sourceRef="eval_28.SF_69.Ss_6.sCS" targetRef="eval_28.SF_69.Ss_8.sRhpo"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_8.sRhpo" name="spot_forward: Run hyper parameter optimization" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.HyperParameterOptimizationTask"></activiti:formProperty>
          <activiti:formProperty id="hpoOutputDir" expression="${workingFolder}output/model/spot_forward/"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/spot_forward/"></activiti:formProperty>
          <activiti:formProperty id="answerInfo" expression="{&quot;answerCode&quot;:&quot;spot_forward&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}"></activiti:formProperty>
          <activiti:formProperty id="executionMode" expression="LOCAL"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="extraParams" expression="{&quot;answers&quot;:&quot;[{\&quot;answerCode\&quot;:\&quot;ie\&quot;,\&quot;answerType\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;group\&quot;,\&quot;answerType\&quot;:\&quot;GROUP\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[{\&quot;answerCode\&quot;:\&quot;spot_forward\&quot;,\&quot;answerType\&quot;:\&quot;CHECK_ONE\&quot;,\&quot;required\&quot;:true,\&quot;subAnswers\&quot;:[],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:true}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}],\&quot;multiValue\&quot;:false,\&quot;isGroupAnswer\&quot;:false}]&quot;}"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="spot_forward"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_10.link" sourceRef="eval_28.SF_69.Ss_8.sRhpo" targetRef="eval_28.SF_69.Ss_10.sSbep"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_10.sSbep" name="spot_forward: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_12.link" sourceRef="eval_28.SF_69.Ss_10.sSbep" targetRef="eval_28.SF_69.Ss_12.sSbep"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_12.sSbep" name="spot_forward: Save best experiment params" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/spot_forward/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_14.link" sourceRef="eval_28.SF_69.Ss_12.sSbep" targetRef="eval_28.SF_69.Ss_14.sCrto"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_14.sCrto" name="spot_forward: Copy resources to output" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_16.link" sourceRef="eval_28.SF_69.Ss_14.sCrto" targetRef="eval_28.SF_69.Ss_16.sFE"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_16.sFE" name="spot_forward: (FE) Feature Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName"></activiti:formProperty>
          <activiti:formProperty id="feConfigFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/"></activiti:formProperty>
          <activiti:formProperty id="trainingSetFolder" expression="${workingFolder}work/split/full-eval/spot_forward/all-files.txt"></activiti:formProperty>
          <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;ie&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;group&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;spot_forward&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;required&quot;:true,&quot;subAnswers&quot;:[],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:true}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}],&quot;multiValue&quot;:false,&quot;isGroupAnswer&quot;:false}]"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder"></activiti:formProperty>
          <activiti:formProperty id="mode" expression="TRAINING"></activiti:formProperty>
          <activiti:formProperty id="feOutputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="languageModelFolder" expression="${workingFolder}output/model/${hpoId}/languageModel/"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;4&quot;,&quot;process_deployments_max&quot;:&quot;50&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_18.link" sourceRef="eval_28.SF_69.Ss_16.sFE" targetRef="eval_28.SF_69.Ss_18.sRS"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_18.sRS" name="spot_forward: (FE) Remap Split" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/spot_forward/"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_20.link" sourceRef="eval_28.SF_69.Ss_18.sRS" targetRef="eval_28.SF_69.Ss_20.sSF"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_20.sSF" name="spot_forward: Setup Folds" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.link" sourceRef="eval_28.SF_69.Ss_20.sSF" targetRef="eval_28.SF_69.Ss_22.FTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_28.SF_69.Ss_22.FTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_2.link" sourceRef="eval_28.SF_69.Ss_22.FTE_1.split" targetRef="eval_28.SF_69.Ss_22.FTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_28.SF_69.Ss_22.FTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_28.SF_69.Ss_22.FTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_2.FEPF_2.link" sourceRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_1.start" targetRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_2.sAF"></sequenceFlow>
        <userTask id="eval_28.SF_69.Ss_22.FTE_2.FEPF_2.sAF" name="spot_forward:(FE) Aggregate/Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_2.FEPF_4.link" sourceRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_2.sAF" targetRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_4.sT"></sequenceFlow>
        <userTask id="eval_28.SF_69.Ss_22.FTE_2.FEPF_4.sT" name="spot_forward: (FE) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_2.FEPF_6.link" sourceRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_4.sT" targetRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_6.sC"></sequenceFlow>
        <userTask id="eval_28.SF_69.Ss_22.FTE_2.FEPF_6.sC" name="spot_forward(FE) Classify" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
            <activiti:formProperty id="detailedResults" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="metaDataFolder" expression="${workingFolder}work/eval/meta-data/${hpoId}/"></activiti:formProperty>
            <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
            <activiti:formProperty id="classifyDetailedResults" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
            <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_2.FEPF_8.link" sourceRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_6.sC" targetRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_8.sAR"></sequenceFlow>
        <userTask id="eval_28.SF_69.Ss_22.FTE_2.FEPF_8.sAR" name="spot_forward: Aggregate Results" activiti:async="true" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.AggregateEvaluationResultsTask"></activiti:formProperty>
            <activiti:formProperty id="foldName" expression="fold${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="fieldName" expression="spot_forward"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_2.FEPF_10.link" sourceRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_8.sAR" targetRef="eval_28.SF_69.Ss_22.FTE_2.FEPF_10.end"></sequenceFlow>
        <endEvent id="eval_28.SF_69.Ss_22.FTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
      </subProcess>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_4.link" sourceRef="eval_28.SF_69.Ss_22.FTE_2.FEPF" targetRef="eval_28.SF_69.Ss_22.FTE_4.sCOS"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_4.sCOS" name="spot_forward: Calc Overall Score" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_6.link" sourceRef="eval_28.SF_69.Ss_22.FTE_4.sCOS" targetRef="eval_28.SF_69.Ss_22.FTE_6.sSSTT"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_6.sSSTT" name="spot_forward: Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="${hpoId}"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/${hpoId}/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_8.link" sourceRef="eval_28.SF_69.Ss_22.FTE_6.sSSTT" targetRef="eval_28.SF_69.Ss_22.FTE_8.sAACF"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_8.sAACF" name="spot_forward: (FT) Aggregate And Convert Features" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;4&quot;,&quot;process_thread_count&quot;:&quot;1&quot;,&quot;process_deployments_max&quot;:&quot;1&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx4G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesPipeline"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/${hpoId}/${bestExperiment}/features/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_10.link" sourceRef="eval_28.SF_69.Ss_22.FTE_8.sAACF" targetRef="eval_28.SF_69.Ss_22.FTE_10.sT"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_10.sT" name="spot_forward: (FT) Train" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
          <activiti:formProperty id="clusterJobParams" expression="{&quot;process_memory_size&quot;:&quot;16&quot;,&quot;process_jvm_args&quot;:&quot; -Xmx16G&quot;}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="runAsClusterJob" expression="true"></activiti:formProperty>
          <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.builder.common.LaunchTrainPipeline"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_12.link" sourceRef="eval_28.SF_69.Ss_22.FTE_10.sT" targetRef="eval_28.SF_69.Ss_22.FTE_12.s"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_12.s" name="spot_forward:CopyDictionary" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_14.link" sourceRef="eval_28.SF_69.Ss_22.FTE_12.s" targetRef="eval_28.SF_69.Ss_22.FTE_14.sPC"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_14.sPC" name="spot_forward:Extraction Pipeline Creation" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="presentation_invoice"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_16.link" sourceRef="eval_28.SF_69.Ss_22.FTE_14.sPC" targetRef="eval_28.SF_69.Ss_22.FTE_16.sPmi"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_22.FTE_16.sPmi" name="spot_forward: Print meta information" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_22.FTE_18.link" sourceRef="eval_28.SF_69.Ss_22.FTE_16.sPmi" targetRef="eval_28.SF_69.Ss_22.FTE_18.join"></sequenceFlow>
      <parallelGateway id="eval_28.SF_69.Ss_22.FTE_18.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_28.SF_69.Ss_24.link" sourceRef="eval_28.SF_69.Ss_22.FTE_18.join" targetRef="eval_28.SF_69.Ss_24.Cat"></sequenceFlow>
      <userTask id="eval_28.SF_69.Ss_24.Cat" name="CleanUpAndCopy avg-evaluation-results.txt" activiti:async="true" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;a&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/${hpoId}/avg-evaluation-results.txt&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/${hpoId}/${bestExperiment}/&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;a&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;}]"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_28.SF_69.Ss_26.link" sourceRef="eval_28.SF_69.Ss_24.Cat" targetRef="eval_28.SF_69.Ss_26.end"></sequenceFlow>
      <endEvent id="eval_28.SF_69.Ss_26.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_28.SF_69.Ss_28.link" sourceRef="eval_28.SF_69.Ss_24.Cat" targetRef="eval_28.SF_69.Ss_28.end"></sequenceFlow>
      <endEvent id="eval_28.SF_69.Ss_28.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
    </subProcess>
    <sequenceFlow id="eval_28.SF_71.link" sourceRef="eval_28.SF_69.Ss" targetRef="eval_28.SF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_30.link" sourceRef="eval_28.SF_4.join" targetRef="eval_30.Caf"></sequenceFlow>
    <userTask id="eval_30.Caf" name="Combine avg-results files" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.CombineAverageResults"></activiti:formProperty>
        <activiti:formProperty id="modelsMap" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="resultDir" expression="${workingFolder}output/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_32.link" sourceRef="eval_30.Caf" targetRef="eval_32.MDOB"></sequenceFlow>
    <userTask id="eval_32.MDOB" name="Meta Data Output Builder" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
        <activiti:formProperty id="testFilesDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="clusterJobParams" expression="{}"></activiti:formProperty>
        <activiti:formProperty id="paramMetaDataHandlers"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="compositeResultAnnotators"></activiti:formProperty>
        <activiti:formProperty id="evalMetaDataDir" expression="${workingFolder}work/eval/meta-data/"></activiti:formProperty>
        <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.nlp.uima.workflow.model.ie.pipeline.MetaDataCompositeBuilder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_34.link" sourceRef="eval_32.MDOB" targetRef="eval_34.Pd"></sequenceFlow>
    <userTask id="eval_34.Pd" name="Post-process documents" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.UimaTask"></activiti:formProperty>
        <activiti:formProperty id="postProcessorsConfig" expression="PostProcessingConfiguration"></activiti:formProperty>
        <activiti:formProperty id="paramTargetDir" expression="${workingFolder}work/eval/meta-data/_post-processed-results/"></activiti:formProperty>
        <activiti:formProperty id="clusterJobParams" expression="{}"></activiti:formProperty>
        <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;tagged_text&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;leg&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;contrapartida&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;contrapartida_corta&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;tipo_de_opcion&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;estrategia&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;opcion1&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;opcion2&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;divisa1&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;divisa2&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;nominal1&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;nominal2&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;strike_&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;precio&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;prima&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;divisa_prima&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_pago_prima&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_inicio&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_pago_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;uti_usi&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;cash_delivery&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;barrier&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;tipo_barrera&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;spot_forward&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true}],&quot;required&quot;:true}],&quot;required&quot;:true}]"></activiti:formProperty>
        <activiti:formProperty id="paramSourceDir" expression="${workingFolder}work/eval/meta-data/_model-results/"></activiti:formProperty>
        <activiti:formProperty id="pipelineBuilderClass" expression="com.workfusion.vds.nlp.uima.task.postprocess.DocumentPostProcessBuilder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_36.link" sourceRef="eval_34.Pd" targetRef="eval_36.Crdr"></sequenceFlow>
    <userTask id="eval_36.Crdr" name="Combine raw detailed results" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CombineIeDetailedResultsTask"></activiti:formProperty>
        <activiti:formProperty id="subModels" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-raw-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_38.link" sourceRef="eval_36.Crdr" targetRef="eval_38.SRSTT"></sequenceFlow>
    <userTask id="eval_38.SRSTT" name="Save Raw Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="saveExperimentId" expression="combined-raw-results"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-raw-results/"></activiti:formProperty>
        <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
        <activiti:formProperty id="extractorsFolder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_40.link" sourceRef="eval_38.SRSTT" targetRef="eval_40.BRbTD"></sequenceFlow>
    <userTask id="eval_40.BRbTD" name="Build Results by Tagged Docs" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ConvertTaggedDocumentsToDocumentResultsTask"></activiti:formProperty>
        <activiti:formProperty id="inputOriginalFolder" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="inputProcessedFolder" expression="${workingFolder}work/eval/meta-data/_post-processed-results/"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_42.link" sourceRef="eval_40.BRbTD" targetRef="eval_42.CE"></sequenceFlow>
    <userTask id="eval_42.CE" name="Composite Extract" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCompositeExtractionPipelineTask"></activiti:formProperty>
        <activiti:formProperty id="postProcessorsConfig" expression="PostProcessingConfiguration"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}output/"></activiti:formProperty>
        <activiti:formProperty id="egid'" expression="presentation_invoice"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="answers" expression="[{&quot;answerCode&quot;:&quot;tagged_text&quot;,&quot;answerType&quot;:&quot;INFO_EXTRACTION&quot;,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;leg&quot;,&quot;answerType&quot;:&quot;GROUP&quot;,&quot;subAnswers&quot;:[{&quot;answerCode&quot;:&quot;contrapartida&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;contrapartida_corta&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;tipo_de_opcion&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;estrategia&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;opcion1&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;opcion2&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;divisa1&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;divisa2&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;nominal1&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;nominal2&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;strike_&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;precio&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;prima&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;divisa_prima&quot;,&quot;answerType&quot;:&quot;CURRENCY&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_pago_prima&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_inicio&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;fecha_pago_vencimiento&quot;,&quot;answerType&quot;:&quot;DATE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;uti_usi&quot;,&quot;answerType&quot;:&quot;FREE_TEXT&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:false},{&quot;answerCode&quot;:&quot;cash_delivery&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;barrier&quot;,&quot;answerType&quot;:&quot;NUMBER&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;tipo_barrera&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true},{&quot;answerCode&quot;:&quot;spot_forward&quot;,&quot;answerType&quot;:&quot;CHECK_ONE&quot;,&quot;subAnswers&quot;:[],&quot;required&quot;:true}],&quot;required&quot;:true}],&quot;required&quot;:true}]"></activiti:formProperty>
        <activiti:formProperty id="resultBuilderClass" expression="com.workfusion.nlp.uima.workflow.task.builder.IeSubModelResultBuilder"></activiti:formProperty>
        <activiti:formProperty id="postProcessingConfiguration" expression="{&quot;@type&quot;:&quot;java.util.Collections$EmptyMap&quot;}"></activiti:formProperty>
        <activiti:formProperty id="compositeAnnotatorClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCompositeAnnotator"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/"></activiti:formProperty>
        <activiti:formProperty id="modelDir" expression="${workingFolder}output/model/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_44.link" sourceRef="eval_42.CE" targetRef="eval_44.Sbe"></sequenceFlow>
    <userTask id="eval_44.Sbe" name="Save best experiment" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveBestExperimentTask"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}output/"></activiti:formProperty>
        <activiti:formProperty id="experimentId" expression="combined-results"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_46.link" sourceRef="eval_44.Sbe" targetRef="eval_46.SSTT"></sequenceFlow>
    <userTask id="eval_46.SSTT" name="Save Stats To Tableau" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="saveExperimentId" expression="combined-results"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-results/"></activiti:formProperty>
        <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;santander-ie:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
        <activiti:formProperty id="extractorsFolder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_48.link" sourceRef="eval_46.SSTT" targetRef="eval_48.Zdr"></sequenceFlow>
    <userTask id="eval_48.Zdr" name="Zip detailed results" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ArchiveDirectoryTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/evaluation-results.zip"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_50.link" sourceRef="eval_48.Zdr" targetRef="eval_50.Crtod"></sequenceFlow>
    <userTask id="eval_50.Crtod" name="Copy resources to output dir" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/resources/lookup/ -\u003e ${workingFolder}output/model/resources/lookup/&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_52.link" sourceRef="eval_50.Crtod" targetRef="eval_52.ES"></sequenceFlow>
    <userTask id="eval_52.ES" name="Evaluation Statistics" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.eval.EvaluationStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="testFilesDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="statsOutputDir" expression="${workingFolder}work/eval/meta-data/_model-results-stats/"></activiti:formProperty>
        <activiti:formProperty id="skipEmptyEntries" expression="false"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="evalDocsDir" expression="${workingFolder}work/eval/meta-data/_model-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_54.link" sourceRef="eval_52.ES" targetRef="eval_54.Cstod"></sequenceFlow>
    <userTask id="eval_54.Cstod" name="Copy stats to output dir" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/_model-results-stats/stats-errors-pos.txt -\u003e ${workingFolder}output/model-results-stats/stats-errors-pos.txt&quot;},{&quot;a&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/_model-results-stats/stats-errors.txt -\u003e ${workingFolder}output/model-results-stats/stats-errors.txt&quot;},{&quot;a&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/_model-results-stats/stats.tsv -\u003e ${workingFolder}output/model-results-stats/stats.tsv&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_56.link" sourceRef="eval_54.Cstod" targetRef="eval_56.Zmr"></sequenceFlow>
    <userTask id="eval_56.Zmr" name="Zip model results" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ArchiveDirectoryTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/model-results.zip"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/meta-data/_model-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_58.link" sourceRef="eval_56.Zmr" targetRef="eval_58.PPES"></sequenceFlow>
    <userTask id="eval_58.PPES" name="Post Processing Evaluation Statistics" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.eval.EvaluationStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="testFilesDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="statsOutputDir" expression="${workingFolder}work/eval/meta-data/_post-processed-results-stats/"></activiti:formProperty>
        <activiti:formProperty id="skipEmptyEntries" expression="false"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;barrier&quot;,&quot;cash_delivery&quot;,&quot;contrapartida&quot;,&quot;contrapartida_corta&quot;,&quot;divisa1&quot;,&quot;divisa2&quot;,&quot;divisa_prima&quot;,&quot;estrategia&quot;,&quot;fecha_inicio&quot;,&quot;fecha_pago_prima&quot;,&quot;fecha_pago_vencimiento&quot;,&quot;fecha_vencimiento&quot;,&quot;nominal1&quot;,&quot;nominal2&quot;,&quot;opcion1&quot;,&quot;opcion2&quot;,&quot;precio&quot;,&quot;prima&quot;,&quot;spot_forward&quot;,&quot;strike_&quot;,&quot;tipo_barrera&quot;,&quot;tipo_de_opcion&quot;,&quot;uti_usi&quot;]"></activiti:formProperty>
        <activiti:formProperty id="evalDocsDir" expression="${workingFolder}work/eval/meta-data/_post-processed-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_60.link" sourceRef="eval_58.PPES" targetRef="eval_60.Cstod"></sequenceFlow>
    <userTask id="eval_60.Cstod" name="Copy stats to output dir" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/_post-processed-results-stats/stats-errors-pos.txt -\u003e ${workingFolder}output/post-processed-results-stats/stats-errors-pos.txt&quot;},{&quot;a&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/_post-processed-results-stats/stats-errors.txt -\u003e ${workingFolder}output/post-processed-results-stats/stats-errors.txt&quot;},{&quot;a&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/_post-processed-results-stats/stats.tsv -\u003e ${workingFolder}output/post-processed-results-stats/stats.tsv&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_62.link" sourceRef="eval_60.Cstod" targetRef="eval_62.Zmr"></sequenceFlow>
    <userTask id="eval_62.Zmr" name="Zip model results" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ArchiveDirectoryTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/post-processed-results.zip"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/meta-data/_post-processed-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_64.link" sourceRef="eval_62.Zmr" targetRef="eval_64.Crtod"></sequenceFlow>
    <userTask id="eval_64.Crtod" name="Copy resources to output dir" activiti:async="true" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;a&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/resources/lookup/ -\u003e ${workingFolder}output/model/resources/lookup/&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_66.link" sourceRef="eval_64.Crtod" targetRef="eval_66.end"></sequenceFlow>
    <endEvent id="eval_66.end" name="End">
      <extensionElements>
        <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
      </extensionElements>
    </endEvent>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_eval">
    <bpmndi:BPMNPlane bpmnElement="eval" id="BPMNPlane_eval"></bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>